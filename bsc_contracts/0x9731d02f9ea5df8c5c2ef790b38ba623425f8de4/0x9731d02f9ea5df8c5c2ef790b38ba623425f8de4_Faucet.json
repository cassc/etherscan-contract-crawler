{"SourceCode": "/**\r\n *Submitted for verification at BscScan.com on 2023-12-08\r\n*/\r\n\r\n// SPDX-License-Indentifier: MIT\r\n\r\npragma solidity ^0.8.17;\r\n\r\ninterface IERC20 {\r\nfunction transfer(address to , uint256 amount) external returns (bool);\r\nfunction balanceOf(address account) external view returns (uint256);\r\nevent Transfer(address indexed from, address indexed to, uint256 value);\r\n }\r\n\r\ncontract Faucet \r\n{\r\naddress payable owner;\r\nIERC20 public token;\r\nIERC20 public token2;\r\n   struct UserInfo {\r\n        uint256 lastUserActionTime; // keeps track of the last user action time\r\n                uint256 shares; // keeps track of the last user action time\r\n        uint256 lastDepositedTime; // keeps track of the last user action time\r\n        uint256 pendingReward; // keeps track of the last user action time\r\n\r\n    }\r\nuint256 public withdrawalAmount = 1000 * (10**18) ;\r\nuint256 public lockTime = 24 hours;\r\nuint256 public lastHarvestedTime;\r\nuint256 public minToken = 10000 * (10**18);\r\nevent Deposit(address indexed from ,uint256 indexed amount);\r\nevent Withdrawal(address indexed from, uint256 indexed amount);\r\nmapping(address => UserInfo) public userInfo;\r\nmapping(address => uint256) public lastUserActionTime;\r\nmapping(address => uint256) public pendingReward;\r\nmapping(address => uint256) public balanceOf;\r\nmapping(address => uint256) public shares;\r\nmapping(address => uint256) public lastDepositedTime;\r\n\r\nconstructor(address tokenAddress , address tokenAddress2) payable {\r\ntoken = IERC20(tokenAddress);\r\ntoken2 = IERC20(tokenAddress2);\r\nowner = payable(msg.sender);\r\n}\r\n\r\nfunction harvest() public {\r\n    require(msg.sender != address(0), \"Request must not originate from a zero account\");\r\n    require(token.balanceOf(address(this)) >= withdrawalAmount, \"Insufficient balance in faucet\");\r\n    require(block.timestamp >= lastUserActionTime[msg.sender], \"It's not possible yet\");\r\n    require(token2.balanceOf(msg.sender) >= minToken);\r\n\r\n    uint256 amountToWithdraw;\r\n\r\n    if (token2.balanceOf(msg.sender) >= 20000 * (10**18)) {\r\n        amountToWithdraw = 2000 * (10**18);\r\n    } else if (token2.balanceOf(msg.sender) >= 10000 * (10**18)) {\r\n        amountToWithdraw = 1000 * (10**18);\r\n    } else {\r\n        revert(\"Balance is below the minimum threshold for withdrawal\");\r\n    }\r\n\r\n    lastUserActionTime[msg.sender] = block.timestamp + lockTime;\r\n    UserInfo storage user = userInfo[msg.sender];\r\n    user.shares = block.timestamp + lockTime;\r\n    user.lastDepositedTime = block.timestamp + lockTime;\r\n    user.lastUserActionTime = block.timestamp + lockTime;\r\n\r\n    token.transfer(msg.sender, amountToWithdraw);\r\n    lastHarvestedTime = block.timestamp;\r\n}\r\n\r\nreceive() external payable {\r\nemit Deposit(msg.sender, msg.value);\r\n}\r\nfunction getBalance() external view returns (uint256) {\r\nreturn token.balanceOf(address(this));\r\n}\r\nfunction setWithdrawalAmount(uint256 amount) public onlyOwner {\r\nwithdrawalAmount = amount * (10**18);\r\n}\r\nfunction setminToken(uint256 amount) public onlyOwner {\r\nminToken = amount * (10**18);\r\n}\r\nfunction setLockTime(uint256 amount) public onlyOwner {\r\nlockTime = amount * 24 hours;\r\n}\r\nfunction kill() external onlyOwner {\r\nemit Withdrawal(msg.sender, token.balanceOf(address(this)));\r\ntoken.transfer(msg.sender, token.balanceOf(address(this)));\r\n}\r\n    \r\nmodifier onlyOwner() {\r\nrequire(msg.sender == owner,\"Only the contract owner can call this function\");\r\n_;\r\n}\r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenAddress2\",\"type\":\"address\"}],\"stateMutability\":\"payable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Deposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdrawal\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"harvest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"lastDepositedTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastHarvestedTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"lastUserActionTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lockTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"minToken\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"pendingReward\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"setLockTime\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"setWithdrawalAmount\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"setminToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"shares\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"token2\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"lastUserActionTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"shares\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastDepositedTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingReward\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}]", "ContractName": "Faucet", "CompilerVersion": "v0.8.17+commit.8df45f5f", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "0000000000000000000000007f68528a0464ecf3eb7f0c16bf77bbbb466c0288000000000000000000000000adaae082237cb1772c9e079db95c117e6dd0c5af", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://e9de35e1c3c345a01b196c44ce44cfcbafc91ed59295619dcb82cb45f4ec01ec"}