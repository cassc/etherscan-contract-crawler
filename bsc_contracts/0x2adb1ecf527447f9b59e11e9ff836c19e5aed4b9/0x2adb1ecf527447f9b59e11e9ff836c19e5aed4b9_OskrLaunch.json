{"SourceCode": "// SPDX-License-Identifier: MIT\r\npragma solidity 0.8.19;\r\n\r\nabstract contract Ownable {\r\n\taddress private _owner;\r\n\r\n\tevent OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\r\n\r\n\tconstructor() {\r\n\t\taddress msgSender = msg.sender;\r\n\t\t_owner = msgSender;\r\n\t\temit OwnershipTransferred(address(0), msgSender);\r\n\t}\r\n\r\n\tfunction owner() public view returns (address) {\r\n\t\treturn _owner;\r\n\t}\r\n\r\n\tmodifier onlyOwner() {\r\n\t\trequire(_owner == msg.sender, \"Ownable: caller is not the owner\");\r\n\t\t_;\r\n\t}\r\n\r\n\tfunction renounceOwnership() public virtual onlyOwner {\r\n\t\temit OwnershipTransferred(_owner, address(0));\r\n\t\t_owner = address(0);\r\n\t}\r\n\r\n\tfunction transferOwnership(address newOwner) public virtual onlyOwner {\r\n\t\trequire(newOwner != address(0), \"Ownable: new owner is the zero address\");\r\n\t\temit OwnershipTransferred(_owner, newOwner);\r\n\t\t_owner = newOwner;\r\n\t}\r\n}\r\n\r\ncontract OskrLaunch is Ownable {\r\n\r\n\r\n\tconstructor(){\r\n\t\twhitelist[msg.sender] = true;\r\n\t}\r\n\r\n    uint256 public totalSupply = 21000;\r\n    uint256 public totalBoughtNum;\r\n\r\n    uint256 public SellPrice = 0.06686 ether;\t\r\n\tuint256 public WhitelistSellPrice = 0.06686 ether;\r\n\tuint256[] public wlType = [12];\r\n\tuint256[] public plType = [24,48,108];\r\n\r\n\r\n\tmapping(address => bool) public bought;\r\n    mapping(address => uint256) public boughtNum;\r\n\r\n    uint public STATUS = 0;\r\n    uint256 public OpenTime= 1705680000;\r\n\r\n\tmapping(address => bool) public whitelist;\r\n\r\n\tfunction getTypes() public view returns (uint256[] memory wl,uint256[] memory pl){\r\n\t\twl = wlType;\r\n\t\tpl = plType;\r\n\t}\r\n\r\n\tfunction publicBuy(uint _index) public payable {\r\n\t\trequire(STATUS == 2,\"NP\");\r\n\t\taddress buyer = msg.sender;\r\n\t\trequire(!bought[buyer],\"AB\");\r\n\t\tuint256 _num = plType[_index];\r\n\t\trequire(_num > 0,\"WN\");\r\n\t\trequire(totalBoughtNum + _num <= totalSupply,\"NN\");\r\n\t\tuint256 price =  _num * SellPrice;\r\n\t\trequire(msg.value >= price,\"IB\");\r\n\r\n\t\tbought[buyer] = true;\r\n\t\tboughtNum[buyer] += _num;\r\n\t\ttotalBoughtNum += _num;\r\n\t\taddHolder(buyer);\r\n\t}\r\n\r\n\r\n\tfunction whitelistBuy(uint _index) public payable {\r\n\t\trequire(STATUS == 1,\"NP\");\r\n\t\taddress buyer = msg.sender;\r\n\t\trequire(!bought[buyer],\"AB\");\r\n\t\tuint256 _num = wlType[_index];\r\n\t\trequire(_num > 0,\"WN\");\r\n\t\trequire(totalBoughtNum + _num <= totalSupply,\"NN\");\r\n\t\tuint256 price =  _num * WhitelistSellPrice;\r\n\t\trequire(msg.value >= price,\"IB\");\r\n\r\n\t\tbought[buyer] = true;\r\n\t\tboughtNum[buyer] += _num;\r\n\t\ttotalBoughtNum += _num;\r\n\t\taddHolder(buyer);\r\n\t}\r\n\r\n\tfunction setWl(address addr,bool enable) public onlyOwner{\r\n\t\twhitelist[addr] = enable;\r\n\t}\r\n\r\n\tfunction batchSetWl(address[] calldata addrs,bool enable) public onlyOwner{\r\n\t\tfor (uint i = 0; i < addrs.length; i++) {\r\n\t\t\twhitelist[addrs[i]] = enable;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setTime(uint256 _ts) onlyOwner public {\r\n        OpenTime = _ts;\r\n    }\r\n\r\n    function setStatus(uint _status) onlyOwner public {\r\n\t\tSTATUS = _status;\r\n    }\r\n\r\n\tfunction setPrices(uint256 wl,uint256 pl) onlyOwner public {\r\n\t\tSellPrice = pl;\r\n\t\tWhitelistSellPrice = wl;\r\n    }\r\n\r\n\tfunction setTypes(uint256[] calldata _wlType,uint256[] calldata _plType)public onlyOwner{\r\n\t\twlType = _wlType;\r\n\t\tplType = _plType;\r\n\t}\r\n\r\n\taddress[] public buyers;\r\n\tmapping(address => uint256) public buyerIndex;\r\n\r\n\tfunction getBuyersLength() public view returns (uint256 len){\r\n\t\tlen = buyers.length;\r\n\t}\r\n\r\n\tfunction addHolder(address adr) private {\r\n\t\tif (0 == buyerIndex[adr]) {\r\n\t\t\tif (0 == buyers.length || buyers[0] != adr) {\r\n\t\t\t\tuint256 size;\r\n\t\t\t\tassembly {\r\n\t\t\t\t\tsize := extcodesize(adr)\r\n\t\t\t\t}\r\n\t\t\t\tif (size > 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tbuyerIndex[adr] = buyers.length;\r\n\t\t\t\tbuyers.push(adr);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\r\n    }", "ABI": "[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"OpenTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"STATUS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SellPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WhitelistSellPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"addrs\",\"type\":\"address[]\"},{\"internalType\":\"bool\",\"name\":\"enable\",\"type\":\"bool\"}],\"name\":\"batchSetWl\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"bought\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"boughtNum\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"buyerIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"buyers\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getBuyersLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"len\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTypes\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"wl\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"pl\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"plType\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"publicBuy\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"wl\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pl\",\"type\":\"uint256\"}],\"name\":\"setPrices\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_status\",\"type\":\"uint256\"}],\"name\":\"setStatus\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_ts\",\"type\":\"uint256\"}],\"name\":\"setTime\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_wlType\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"_plType\",\"type\":\"uint256[]\"}],\"name\":\"setTypes\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"enable\",\"type\":\"bool\"}],\"name\":\"setWl\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalBoughtNum\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"whitelist\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"whitelistBuy\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"wlType\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]", "ContractName": "OskrLaunch", "CompilerVersion": "v0.8.19+commit.7dd6d404", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://0dbe42da022b3aba1668b49aec5bc4c5310d68a208e869d624664c6f208998a6"}