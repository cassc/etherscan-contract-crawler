{"SourceCode": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.0;\r\n\r\ninterface IERC20 {\r\n    function transfer(address recipient, uint256 amount) external returns (bool);\r\n    function balanceOf(address account) external view returns (uint256);\r\n}\r\n\r\ncontract ATF_Pre_Distribuir_Oficial {\r\n    address public USDCAddress;\r\n    address[] public aportadores;\r\n    uint256[] public aportes;\r\n    uint256 public totalAportes;\r\n    uint256 public maxAportadores = 5;\r\n    address public owner;\r\n\r\n    constructor(address _USDCAddress) {\r\n        USDCAddress = _USDCAddress;\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner() {\r\n        require(msg.sender == owner, \"Somente o dono pode chamar essa funcao\");\r\n        _;\r\n    }\r\n\r\n    function adicionarCarteira(address _aportador, uint256 _aporte) external onlyOwner {\r\n        require(aportadores.length < maxAportadores, \"Numero maximo de aportadores atingido\");\r\n        \r\n        aportadores.push(_aportador);\r\n        aportes.push(_aporte);\r\n        totalAportes += _aporte;\r\n    }\r\n\r\n    function distribuir(uint256 valor) external {\r\n        require(valor >= 5, \"O valor deve ser maior ou igual a 5\");\r\n        require(valor % 5 == 0, \"O valor deve ser multiplo de 5\");\r\n\r\n        IERC20 usdcToken = IERC20(USDCAddress);\r\n        uint256 balance = usdcToken.balanceOf(address(this));\r\n\r\n        require(balance >= valor * 1e18, \"Saldo insuficiente para distribuicao\");\r\n\r\n        uint256 valorBase = valor * 1e18;\r\n\r\n        for (uint i = 0; i < aportadores.length; i++) {\r\n            uint256 valorAportador = (valorBase * aportes[i]) / totalAportes;\r\n            require(usdcToken.transfer(aportadores[i], valorAportador), \"Falha na transferencia\");\r\n        }\r\n    }\r\n\r\n    function substituiCarteira(address antigoEndereco, address novoEndereco) external onlyOwner  {\r\n        uint256 indice = aportadorIndice(antigoEndereco);\r\n        aportadores[indice] = novoEndereco;\r\n    }\r\n\r\n    function Aportador(uint256 aportador) external view returns(address) {\r\n        return aportadores[aportador]; \r\n    }\r\n\r\n    function Aporte(uint256 aportador) external view returns(uint256) {\r\n        return aportes[aportador];\r\n    }\r\n\r\n\r\n    function aportadorIndice(address aportadorEndereco) internal view returns (uint256) {\r\n        for (uint256 i = 0; i < aportadores.length; i++) {\r\n            if (aportadores[i] == aportadorEndereco) {\r\n                return i;\r\n            }\r\n        }\r\n        revert(\"Aportador nao encontrado\");\r\n    }\r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_USDCAddress\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"aportador\",\"type\":\"uint256\"}],\"name\":\"Aportador\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"aportador\",\"type\":\"uint256\"}],\"name\":\"Aporte\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"USDCAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_aportador\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_aporte\",\"type\":\"uint256\"}],\"name\":\"adicionarCarteira\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"aportadores\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"aportes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"valor\",\"type\":\"uint256\"}],\"name\":\"distribuir\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"maxAportadores\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"antigoEndereco\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"novoEndereco\",\"type\":\"address\"}],\"name\":\"substituiCarteira\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalAportes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]", "ContractName": "ATF_Pre_Distribuir_Oficial", "CompilerVersion": "v0.8.0+commit.c7dfd78e", "OptimizationUsed": "1", "Runs": "1000", "ConstructorArguments": "0000000000000000000000008ac76a51cc950d9822d68b83fe1ad97b32cd580d", "EVMVersion": "Default", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://2e7367a1e7d95aaf5adb5da6f77125841df517f02eccdbc3aefd649944efe53d"}