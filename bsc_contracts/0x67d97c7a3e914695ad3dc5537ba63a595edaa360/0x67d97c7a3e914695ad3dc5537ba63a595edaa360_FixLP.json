{"SourceCode": "// SPDX-License-Identifier: MIT\r\n\r\npragma solidity ^0.6.12;\r\n\r\ninterface IPancakeRouter {\r\n    function WETH() external pure returns (address);  // This will return the WBNB address on BSC.\r\n    function factory() external pure returns (address);\r\n}\r\n\r\ninterface IPancakeFactory {\r\n    function getPair(address tokenA, address tokenB) external view returns (address pair);\r\n}\r\n\r\ninterface IERC20 {\r\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\r\n    function transfer(address recipient, uint256 amount) external returns (bool);\r\n}\r\n\r\ninterface IWBNB {\r\n    function deposit() external payable;\r\n}\r\n\r\ninterface ILpPair {\r\n    function mint(address to) external returns (uint256 liquidity);\r\n    function factory() external view returns (address);\r\n    function sync() external;\r\n}\r\n\r\ncontract FixLP {\r\n    address payable public feeRecipient;\r\n    uint256 public feeAmount;  // 0.05 BNB fee, using the ether unit for simplicity in Solidity.\r\n    \r\n\r\n    constructor(address _owner) public {\r\n        feeRecipient = payable(_owner);\r\n    }\r\n\r\n    function setFee(uint256 _feeAmount) external {\r\n        require(msg.sender == feeRecipient);\r\n        feeAmount = _feeAmount;\r\n    }\r\n\r\n    function setOwner(uint256 _owner) external {\r\n        require(msg.sender == feeRecipient);\r\n        feeRecipient = payable(_owner);\r\n    }\r\n\r\n    function fixEthLP(address _router,address _tokenA, uint256 _amountTokenA) external payable {\r\n        require(msg.value >= feeAmount, \"Insufficient BNB sent as fee\");\r\n\r\n        // Send the fee to the feeRecipient\r\n        feeRecipient.transfer(feeAmount);\r\n\r\n        // Use the remaining BNB for the function logic\r\n        uint256 remainingBnb = msg.value - feeAmount;\r\n        \r\n        IWBNB wbnb = IWBNB(IPancakeRouter(_router).WETH());\r\n        wbnb.deposit{value: remainingBnb}();\r\n        \r\n        ILpPair pair = ILpPair(IPancakeFactory(IPancakeRouter(_router).factory()).getPair(_tokenA, address(wbnb)));\r\n        require(address(pair) != address(0),\"LP Error\");\r\n        // Ensure approval is done\r\n        IERC20(_tokenA).transferFrom(msg.sender, address(pair), _amountTokenA);\r\n        IERC20(address(wbnb)).transfer(address(pair), remainingBnb);\r\n        \r\n        pair.mint(msg.sender);\r\n    }\r\n\r\n\r\n    function fixTokenLP(address _router,address _tokenA, address _tokenB, uint256 _amountTokenA, uint256 _amountTokenB) external payable {\r\n        require(msg.value >= feeAmount, \"Insufficient BNB sent as fee\");\r\n\r\n        // Send the fee to the feeRecipient\r\n        feeRecipient.transfer(feeAmount);        \r\n        \r\n        ILpPair pair = ILpPair(IPancakeFactory(IPancakeRouter(_router).factory()).getPair(_tokenA, _tokenB));\r\n        require(address(pair) != address(0),\"LP Error\");\r\n        // Ensure approval is done\r\n        IERC20(_tokenA).transferFrom(msg.sender, address(pair), _amountTokenA);\r\n        IERC20(_tokenB).transferFrom(msg.sender, address(pair), _amountTokenB);\r\n        \r\n        pair.mint(msg.sender);\r\n    }\r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"feeAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feeRecipient\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_router\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenA\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amountTokenA\",\"type\":\"uint256\"}],\"name\":\"fixEthLP\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_router\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenA\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenB\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amountTokenA\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_amountTokenB\",\"type\":\"uint256\"}],\"name\":\"fixTokenLP\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_feeAmount\",\"type\":\"uint256\"}],\"name\":\"setFee\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_owner\",\"type\":\"uint256\"}],\"name\":\"setOwner\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "FixLP", "CompilerVersion": "v0.6.12+commit.27d51765", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "0000000000000000000000009bb69e4ddda0a1865fec3ba828787e6f886750f7", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://b4a3856a39c9d97d003cfd0a4fa624ac5d0a9cfd406bd6e86d230ce0a856a3cc"}