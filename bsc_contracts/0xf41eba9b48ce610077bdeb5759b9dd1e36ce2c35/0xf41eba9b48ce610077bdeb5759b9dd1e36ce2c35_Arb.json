{"SourceCode": "//SPDX-License-Identifier: Unlicense\r\npragma solidity ^0.8.4;\r\n\r\ninterface IERC20 {\r\n\tfunction balanceOf(address account) external view returns (uint);\r\n\tfunction transfer(address recipient, uint amount) external returns (bool);\r\n\tfunction approve(address spender, uint amount) external returns (bool);\r\n}\r\n\r\ninterface IUniswapV2Router {\r\n    function getAmountsOut(uint256 amountIn, address[] memory path) external view returns (uint256[] memory amounts);\r\n    function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts);\r\n}\r\ncontract Arb {\r\n    address _owner;\r\n    constructor(){\r\n        _owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner (){\r\n        require(msg.sender == _owner, \"Ownable: caller is not the owner\");\r\n        _;\r\n    }\r\n\t function getAmountOutMin(address router, address _tokenIn, address _tokenOut, uint256 _amount) public view returns (uint256) {\r\n\t\taddress[] memory path;\r\n\t\tpath = new address[](2);\r\n\t\tpath[0] = _tokenIn;\r\n\t\tpath[1] = _tokenOut;\r\n\t\tuint256[] memory amountOutMins = IUniswapV2Router(router).getAmountsOut(_amount, path);\r\n\t\treturn amountOutMins[path.length -1];\r\n\t}\r\n    function estimateDualDexTrade(address _router1, address _router2, address _token1, address _token2, uint256 _amount) external view returns (uint256) {\r\n\t\tuint256 amtBack1 = getAmountOutMin(_router1, _token1, _token2, _amount);\r\n\t\tuint256 amtBack2 = getAmountOutMin(_router2, _token2, _token1, amtBack1);\r\n\t\treturn amtBack2;\r\n\t}\r\n\r\n    function getOutsMins(address _router1, address _router2, address base_token, address[] memory _tokens, uint256 _amount) public view returns (uint256[] memory) {\r\n        uint256[] memory OutsMins = new uint256[](2 *_tokens.length);\r\n\t\t// \u041f\u0440\u044f\u043c\u043e\u0439 \u043e\u0431\u043c\u0435\u043d\r\n        for (uint256 i = 0; i < _tokens.length; i++) {\r\n\t\t\tuint256 amtBack1 = getAmountOutMin(_router1, base_token, _tokens[i], _amount);\r\n\t\t\tuint256 amtBack2 = getAmountOutMin(_router2, _tokens[i], base_token, amtBack1);\r\n\t\t\tOutsMins[i] = amtBack2;\r\n        }\r\n\t\t// \u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u043e\u0431\u043c\u0435\u043d\r\n\t\tfor (uint256 i = 0; i < _tokens.length; i++) {  \r\n\t\t\tuint256 amtBack1 = getAmountOutMin(_router2, base_token, _tokens[i], _amount);\r\n\t\t\tuint256 amtBack2 = getAmountOutMin(_router1, _tokens[i], base_token, amtBack1);\r\n\t\t\tOutsMins[i + _tokens.length] = amtBack2;\r\n        }\r\n        return OutsMins;\r\n    }\r\n\tfunction getBalance (address _tokenContractAddress) external view  returns (uint256) {\r\n\t\tuint balance = IERC20(_tokenContractAddress).balanceOf(address(this));\r\n\t\treturn balance;\r\n\t}\t\r\n\tfunction recoverEth() external onlyOwner {\r\n\t\tpayable(msg.sender).transfer(address(this).balance);\r\n\t}\r\n\tfunction recoverTokens(address tokenAddress) external onlyOwner {\r\n\t\tIERC20 token = IERC20(tokenAddress);\r\n\t\ttoken.transfer(msg.sender, token.balanceOf(address(this)));\r\n\t}\r\n\t\r\n\treceive() external payable {}\r\n\r\n    function swap(address router, address _tokenIn, address _tokenOut, uint256 _amount) private {\r\n\t\tIERC20(_tokenIn).approve(router, _amount);\r\n\t\taddress[] memory path;\r\n\t\tpath = new address[](2);\r\n\t\tpath[0] = _tokenIn;\r\n\t\tpath[1] = _tokenOut;\r\n\t\tuint deadline = block.timestamp + 300;\r\n\t\tIUniswapV2Router(router).swapExactTokensForTokens(_amount, 1, path, address(this), deadline);\r\n\t}\r\n    function dualDexTrade(address _router1, address _router2, address _token1, address _token2, uint256 _amount) external {\r\n        uint startBalance = IERC20(_token1).balanceOf(address(this));\r\n        uint token2InitialBalance = IERC20(_token2).balanceOf(address(this));\r\n\r\n            swap(_router1,_token1, _token2,_amount);\r\n\r\n        uint token2Balance = IERC20(_token2).balanceOf(address(this));\r\n        uint tradeableAmount = token2Balance - token2InitialBalance;\r\n\r\n            swap(_router2,_token2, _token1,tradeableAmount);\r\n\r\n        uint endBalance = IERC20(_token1).balanceOf(address(this));\r\n        require(endBalance > startBalance, \"Trade Reverted, No Profit Made\");\r\n    }\r\n}", "ABI": "[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_router1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_router2\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_token1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_token2\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"dualDexTrade\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_router1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_router2\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_token1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_token2\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"estimateDualDexTrade\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"router\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"getAmountOutMin\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_tokenContractAddress\",\"type\":\"address\"}],\"name\":\"getBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_router1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_router2\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"base_token\",\"type\":\"address\"},{\"internalType\":\"address[]\",\"name\":\"_tokens\",\"type\":\"address[]\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"getOutsMins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"recoverEth\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"}],\"name\":\"recoverTokens\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}]", "ContractName": "Arb", "CompilerVersion": "v0.8.18+commit.87f61d96", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://bb99937eeeb0f54d09c84441b13b092177aa07310d10f9b2c2daf002d65dd546"}