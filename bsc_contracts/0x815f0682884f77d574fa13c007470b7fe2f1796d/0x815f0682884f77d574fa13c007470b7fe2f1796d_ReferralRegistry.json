{"SourceCode": "// Sources flattened with hardhat v2.12.7 https://hardhat.org\r\n\r\n// File contracts/ReferralRegistry.sol\r\n\r\n// SPDX-License-Identifier: UNLICENSED\r\npragma solidity 0.8.17;\r\n\r\ncontract ReferralRegistry {\r\n    mapping(string => address) public usernameToAddress;\r\n    mapping(address => string) public addressToUsername;\r\n\r\n    event Registered(address user, string username);\r\n\r\n    function register(string memory username) external {\r\n        require(!compareStrings(username, \"\"), \"No empty username\");\r\n        require(\r\n            usernameToAddress[username] == address(0),\r\n            \"Username already taken\"\r\n        );\r\n        require(\r\n            compareStrings(addressToUsername[msg.sender], \"\"),\r\n            \"Username already defined\"\r\n        );\r\n        usernameToAddress[username] = msg.sender;\r\n        addressToUsername[msg.sender] = username;\r\n\r\n        emit Registered(msg.sender, username);\r\n    }\r\n\r\n    function compareStrings(\r\n        string memory a,\r\n        string memory b\r\n    ) internal pure returns (bool) {\r\n        return (keccak256(abi.encodePacked(a)) ==\r\n            keccak256(abi.encodePacked(b)));\r\n    }\r\n}", "ABI": "[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"username\",\"type\":\"string\"}],\"name\":\"Registered\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"addressToUsername\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"username\",\"type\":\"string\"}],\"name\":\"register\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"usernameToAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]", "ContractName": "ReferralRegistry", "CompilerVersion": "v0.8.17+commit.8df45f5f", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://d21504457d34b6c6b96ffd2cd0be375a65571380d907af0cc28e660b1a898204"}