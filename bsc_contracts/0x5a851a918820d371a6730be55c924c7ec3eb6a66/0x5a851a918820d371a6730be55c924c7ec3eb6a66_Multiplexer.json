{"SourceCode": "pragma solidity ^0.4.16;\r\n\r\n//erc20 \u548ctrc20 \u90fd\u4e00\u6837\r\ncontract ERC20 {\r\n  function transferFrom( address from, address to, uint value) returns (bool ok);\r\n}\r\n\r\npragma solidity ^0.4.16;\r\n\r\ncontract Multiplexer {\r\n\r\n\tfunction sendTrx(address[] _to, uint256[] _value) payable returns (bool _success) {\r\n\t\tassert(_to.length == _value.length);\r\n\t\tassert(_to.length <= 255);\r\n\t\tuint256 beforeValue = msg.value;\r\n\t\tuint256 afterValue = 0;\r\n\t\tfor (uint8 i = 0; i < _to.length; i++) {\r\n\t\t\tafterValue = afterValue + _value[i];\r\n\t\t\tassert(_to[i].send(_value[i]));\r\n\t\t}\r\n\t\tuint256 remainingValue = beforeValue - afterValue;\r\n\t\tif (remainingValue > 0) {\r\n\t\t\tassert(msg.sender.send(remainingValue));\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction sendToken(address _tokenAddress, address[] _to, uint256[] _value) returns (bool _success) {\r\n\t\tassert(_to.length == _value.length);\r\n\t\tassert(_to.length <= 255);//\u8fd9\u91cc\u957f\u5ea6\u505a\u4e86\u4e00\u4e2a\u9650\u5236\uff0c\u7531\u4e8e\u4e0d\u540c\u94fegaslimit\u6709\u4e0d\u540c\u7684\u4e0a\u9650\uff0c\u53ef\u914c\u60c5\u8c03\u6574\r\n\t\tERC20 token = ERC20(_tokenAddress);\r\n\t\tfor (uint256 i = 0; i < _to.length; i++) {\r\n\t\t\tassert(token.transferFrom(msg.sender, _to[i], _value[i]) == true);\r\n\t\t\t\t//\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\uff0ctransferFrom\u7684\u8f6c\u8d26\u9700\u8981\uff0c\u8c03\u7528\u8005\u5728\u4ee3\u5e01\u5408\u7ea6\uff08_tokenAddress\uff09\u91cc\u8c03\u7528approve\u65b9\u6cd5\uff0c\r\n\t\t\t\t//\u4e5f\u5c31\u662f\u9700\u8981\u7ed9\u6279\u91cf\u8f6c\u8d26\u5408\u7ea6\uff08\u5f53\u524d\u5408\u7ea6\uff09\u6388\u6743\uff0c\u4e0d\u7136\u5f53\u524d\u5408\u7ea6\u65e0\u6cd5\u8c03\u7528transferFrom\uff0c\u5f88\u591a\u65b0\u624b\u90fd\u4f1a\u5ffd\u89c6\u8fd9\u4e00\u70b9\u3002\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}", "ABI": "[{\"constant\":false,\"inputs\":[{\"name\":\"_tokenAddress\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address[]\"},{\"name\":\"_value\",\"type\":\"uint256[]\"}],\"name\":\"sendToken\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address[]\"},{\"name\":\"_value\",\"type\":\"uint256[]\"}],\"name\":\"sendTrx\",\"outputs\":[{\"name\":\"_success\",\"type\":\"bool\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"}]", "ContractName": "Multiplexer", "CompilerVersion": "v0.4.16+commit.d7661dd9", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://ba28a0c7accca7e42839d603284cbff5f68296ffe12ff8d3c7c22361bd6a93c7"}