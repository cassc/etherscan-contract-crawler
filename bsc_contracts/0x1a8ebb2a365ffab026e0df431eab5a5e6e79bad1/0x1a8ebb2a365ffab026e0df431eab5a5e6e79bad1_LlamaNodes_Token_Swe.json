{"SourceCode": "# @version 0.3.7\r\n# @title LlamaNodes Token Sweeper\r\n# @license MIT\r\n\r\n\r\nfrom vyper.interfaces import ERC20\r\n\r\ninterface Factory:\r\n    def payment_received(token: ERC20, amount: uint256) -> bool: nonpayable\r\n    def payment_address_to_account(account: address) -> address: view\r\n    def owner() -> address: view\r\n    def receiver() -> address: view\r\n\r\n\r\nevent TokenBalanceRecovered:\r\n    receiver: address\r\n    token: address\r\n    amount: uint256\r\n\r\n\r\nFACTORY: public(immutable(Factory))\r\n\r\n\r\n@external\r\ndef __init__(_factory: Factory):\r\n    FACTORY = _factory\r\n\r\n\r\n@external\r\ndef send_token(_token: ERC20, _amount: uint256):\r\n    assert _amount > 0\r\n    _token.transferFrom(msg.sender, self, _amount)\r\n    receiver: address = FACTORY.receiver()\r\n    _token.transfer(receiver, _amount)\r\n\r\n    FACTORY.payment_received(_token, _amount)\r\n\r\n\r\n@external\r\ndef sweep_token_balance(_token: ERC20):\r\n    receiver: address = FACTORY.receiver()\r\n    amount: uint256 = _token.balanceOf(self)\r\n    if amount > 0:\r\n        _token.transfer(receiver, amount)\r\n        FACTORY.payment_received(_token, amount)\r\n\r\n\r\n@external\r\ndef recover_token_balance(_token: ERC20):\r\n    assert msg.sender == FACTORY.payment_address_to_account(self) or msg.sender == FACTORY.owner()\r\n    amount: uint256 = _token.balanceOf(self)\r\n    _token.transfer(msg.sender, amount)\r\n\r\n    log TokenBalanceRecovered(msg.sender, _token.address, amount)", "ABI": "[{\"name\":\"TokenBalanceRecovered\",\"inputs\":[{\"name\":\"receiver\",\"type\":\"address\",\"indexed\":false},{\"name\":\"token\",\"type\":\"address\",\"indexed\":false},{\"name\":\"amount\",\"type\":\"uint256\",\"indexed\":false}],\"anonymous\":false,\"type\":\"event\"},{\"stateMutability\":\"nonpayable\",\"type\":\"constructor\",\"inputs\":[{\"name\":\"_factory\",\"type\":\"address\"}],\"outputs\":[]},{\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"name\":\"send_token\",\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"outputs\":[]},{\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"name\":\"sweep_token_balance\",\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"}],\"outputs\":[]},{\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"name\":\"recover_token_balance\",\"inputs\":[{\"name\":\"_token\",\"type\":\"address\"}],\"outputs\":[]},{\"stateMutability\":\"view\",\"type\":\"function\",\"name\":\"FACTORY\",\"inputs\":[],\"outputs\":[{\"name\":\"\",\"type\":\"address\"}]}]", "ContractName": "LlamaNodes Token Sweeper", "CompilerVersion": "vyper:0.3.7", "OptimizationUsed": "0", "Runs": "0", "ConstructorArguments": "000000000000000000000000216ce6e49e2e713e41383ba4c5d84a0d36189640", "EVMVersion": "Default", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": ""}