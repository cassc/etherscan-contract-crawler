{"SourceCode": "pragma solidity ^0.5.17;\r\n\r\nlibrary SafeMath {\r\n    function mul(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n      if (a == 0) {\r\n        return 0;\r\n      }\r\n      c = a * b;\r\n      assert(c / a == b);\r\n      return c;\r\n    }\r\n\r\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n      return a / b;\r\n    }\r\n\r\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n      assert(b <= a);\r\n      return a - b;\r\n    }\r\n\r\n    function add(uint256 a, uint256 b) internal pure returns (uint256 c) {\r\n      c = a + b;\r\n      assert(c >= a);\r\n      return c;\r\n    }\r\n}\r\n\r\ncontract TOKEN {\r\n    function totalSupply() external view returns (uint256);\r\n    function balanceOf(address account) external view returns (uint256);\r\n    function transfer(address recipient, uint256 amount) external returns (bool);\r\n    function allowance(address owner, address spender) external view returns (uint256);\r\n    function approve(address spender, uint256 amount) external returns (bool);\r\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\r\n}\r\n\r\ncontract Ownable {\r\n    address public dev1 = address(0xa354bC96fE245a16DC74868766caF08B445dF195); //ToadGuy\r\n    address public dev2 = address(0x487E861a33699dE14014f0f19dad92286c3C4e07); //Snake\r\n\r\n    mapping(address => bool) public ownerByAddress;\r\n\r\n    constructor() public {\r\n        ownerByAddress[dev1] = true;\r\n        ownerByAddress[dev2] = true;\r\n    }\r\n\r\n    modifier onlyOwners() {\r\n        require(ownerByAddress[msg.sender] == true);\r\n        _;\r\n    }\r\n}\r\n\r\ncontract DevLock is Ownable {\r\n    using SafeMath for uint256;\r\n\r\n    mapping(address => bool) public isLocked;\r\n\r\n    modifier hasDripped {\r\n        require(isLocked[dev1] == false && isLocked[dev2] == false);\r\n        if (dividendPool > 0) {\r\n          uint256 secondsPassed = SafeMath.sub(now, lastDripTime);\r\n          uint256 dividends = secondsPassed.mul(dividendPool).div(dailyRate);\r\n\r\n          if (dividends > dividendPool) {\r\n            dividends = dividendPool;\r\n          }\r\n\r\n          profitPerShare = SafeMath.add(profitPerShare, (dividends * divMagnitude) / tokenSupply);\r\n          dividendPool = dividendPool.sub(dividends);\r\n          lastDripTime = now;\r\n        }\r\n        _;\r\n    }\r\n\r\n    modifier onlyTokenHolders {\r\n        require(myShares() > 0);\r\n        _;\r\n    }\r\n\r\n    modifier onlyDivis {\r\n        require(myDividends() > 0);\r\n        _;\r\n    }\r\n\r\n    event onDonation(\r\n        address indexed customerAddress,\r\n        uint256 tokens\r\n    );\r\n\r\n    event Transfer(\r\n        address indexed from,\r\n        address indexed to,\r\n        uint256 tokens\r\n    );\r\n\r\n    event onAddShares(\r\n        address indexed devAddress,\r\n        uint256 incomingTokens,\r\n        uint256 tokensMinted,\r\n        uint256 timestamp\r\n    );\r\n\r\n    event onRemoveShares(\r\n        address indexed devAddress,\r\n        uint256 tokensBurned,\r\n        uint256 tokensEarned,\r\n        uint256 timestamp\r\n    );\r\n\r\n    event onWithdraw(\r\n        address indexed customerAddress,\r\n        uint256 tokensWithdrawn\r\n    );\r\n\r\n    string public name = \"Dev Lock\";\r\n    string public symbol = \"DEV_SHARES\";\r\n    uint8 constant public decimals = 18;\r\n    uint256 constant private divMagnitude = 2 ** 64;\r\n\r\n    uint32 constant private dailyRate = 8640000; //1% a day\r\n\r\n    mapping(address => uint256) private tokenBalanceLedger;\r\n    mapping(address => int256) private payoutsTo;\r\n\r\n    struct Stats {\r\n       uint256 deposits;\r\n       uint256 withdrawals;\r\n    }\r\n\r\n    uint256 public dividendPool = 0;\r\n    uint256 public lastDripTime = now;\r\n    uint256 public totalPlayer = 0;\r\n    uint256 public totalDonation = 0;\r\n\r\n    uint256 private tokenSupply = 0;\r\n    uint256 private profitPerShare = 0;\r\n\r\n    TOKEN bep20;\r\n\r\n    constructor() public {\r\n        bep20 = TOKEN(address(0x463E737D8F740395ABf44f7aac2D9531D8D539E9)); //toad\r\n        isLocked[dev1] = false;\r\n        isLocked[dev2] = false;\r\n    }\r\n\r\n    function() payable external {\r\n        revert();\r\n    }\r\n    function lock() onlyOwners public returns (uint256) {\r\n        isLocked[msg.sender] = true;\r\n    }\r\n\r\n    function unlock() onlyOwners public returns (uint256) {\r\n         isLocked[msg.sender] = false;\r\n         lastDripTime = now;\r\n    }\r\n\r\n    function checkAndTransferToad(uint256 _amount) private {\r\n        require(bep20.transferFrom(msg.sender, address(this), _amount) == true, \"transfer must succeed\");\r\n    }\r\n\r\n    function donateToPool(uint256 _amount) public {\r\n        require(_amount > 0 && tokenSupply > 0, \"must be a positive value and have supply\");\r\n        checkAndTransferToad(_amount);\r\n        totalDonation += _amount;\r\n        dividendPool = dividendPool.add(_amount);\r\n        emit onDonation(msg.sender, _amount);\r\n    }\r\n\r\n    function withdraw() hasDripped onlyDivis public {\r\n        address payable _customerAddress = msg.sender;\r\n        uint256 _dividends = myDividends();\r\n        payoutsTo[_customerAddress] += (int256) (_dividends * divMagnitude);\r\n        bep20.transfer(_customerAddress, _dividends);\r\n        emit onWithdraw(_customerAddress, _dividends);\r\n    }\r\n\r\n    function addSharesFor(address _devAddress, uint256 _shares) hasDripped onlyOwners public returns (uint256) {\r\n        return purchaseTokens(_devAddress, _shares);\r\n    }\r\n\r\n    function _purchaseTokens(address _customerAddress, uint256 _incomingTokens) private returns(uint256) {\r\n        uint256 _amountOfTokens = _incomingTokens;\r\n\r\n        require(_amountOfTokens > 0 && _amountOfTokens.add(tokenSupply) > tokenSupply);\r\n\r\n        tokenSupply = tokenSupply.add(_amountOfTokens);\r\n        tokenBalanceLedger[_customerAddress] =  tokenBalanceLedger[_customerAddress].add(_amountOfTokens);\r\n\r\n        int256 _updatedPayouts = (int256) (profitPerShare * _amountOfTokens);\r\n        payoutsTo[_customerAddress] += _updatedPayouts;\r\n\r\n        emit Transfer(address(0), _customerAddress, _amountOfTokens);\r\n\r\n        return _amountOfTokens;\r\n    }\r\n\r\n    function purchaseTokens(address _customerAddress, uint256 _incomingTokens) private returns (uint256) {\r\n        require(_incomingTokens > 0);\r\n\r\n        uint256 _amountOfTokens = _purchaseTokens(_customerAddress, _incomingTokens);\r\n\r\n        emit onAddShares(_customerAddress, _incomingTokens, _amountOfTokens, now);\r\n\r\n        return _amountOfTokens;\r\n    }\r\n\r\n    function removeSharesFor(address _devAddress, uint256 _shares) hasDripped onlyOwners public {\r\n        address _customerAddress =_devAddress;\r\n        require(_shares > 0 && _shares <= tokenBalanceLedger[_customerAddress]);\r\n\r\n        tokenSupply = tokenSupply.sub(_shares);\r\n        tokenBalanceLedger[_customerAddress] = tokenBalanceLedger[_customerAddress].sub(_shares);\r\n\r\n        int256 _updatedPayouts = (int256) (profitPerShare * _shares);\r\n        payoutsTo[_customerAddress] -= _updatedPayouts;\r\n\r\n        emit Transfer(_customerAddress, address(0), _shares);\r\n        emit onRemoveShares(_customerAddress, _shares, _shares, now);\r\n    }\r\n\r\n    function totalTokenBalance() public view returns (uint256) {\r\n        return bep20.balanceOf(address(this));\r\n    }\r\n\r\n    function totalSupply() public view returns(uint256) {\r\n        return tokenSupply;\r\n    }\r\n\r\n    function myShares() public view returns (uint256) {\r\n        address _customerAddress = msg.sender;\r\n        return sharesOf(_customerAddress);\r\n    }\r\n\r\n    function myEstimateDividends() public view returns (uint256) {\r\n        address _customerAddress = msg.sender;\r\n        return estimateDividendsOf(_customerAddress);\r\n    }\r\n\r\n    function estimateDividendsOf(address _customerAddress) public view returns (uint256) {\r\n        if(isLocked[dev1] == true || isLocked[dev2] == true){\r\n            return myDividends();\r\n        }\r\n        uint256 _profitPerShare = profitPerShare;\r\n\r\n        if (dividendPool > 0) {\r\n            uint256 secondsPassed = 0;\r\n\r\n            secondsPassed = SafeMath.sub(now, lastDripTime);\r\n\r\n            uint256 dividends = secondsPassed.mul(dividendPool).div(dailyRate);\r\n\r\n            if (dividends > dividendPool) {\r\n                dividends = dividendPool;\r\n            }\r\n\r\n          _profitPerShare = SafeMath.add(_profitPerShare, (dividends * divMagnitude) / tokenSupply);\r\n        }\r\n\r\n        return (uint256) ((int256) (_profitPerShare * tokenBalanceLedger[_customerAddress]) - payoutsTo[_customerAddress]) / divMagnitude;\r\n    }\r\n\r\n    function myDividends() public view returns (uint256) {\r\n        address _customerAddress = msg.sender;\r\n        return dividendsOf(_customerAddress) ;\r\n    }\r\n\r\n    function dividendsOf(address _customerAddress) public view returns (uint256) {\r\n        return (uint256) ((int256) (profitPerShare * tokenBalanceLedger[_customerAddress]) - payoutsTo[_customerAddress]) / divMagnitude;\r\n    }\r\n\r\n    function sharesOf(address _customerAddress) public view returns (uint256) {\r\n        return tokenBalanceLedger[_customerAddress];\r\n    }\r\n}", "ABI": "[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"devAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"incomingTokens\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokensMinted\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"onAddShares\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"customerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"onDonation\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"devAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokensBurned\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokensEarned\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"onRemoveShares\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"customerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokensWithdrawn\",\"type\":\"uint256\"}],\"name\":\"onWithdraw\",\"type\":\"event\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_devAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_shares\",\"type\":\"uint256\"}],\"name\":\"addSharesFor\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"dev1\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"dev2\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"dividendPool\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_customerAddress\",\"type\":\"address\"}],\"name\":\"dividendsOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"donateToPool\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_customerAddress\",\"type\":\"address\"}],\"name\":\"estimateDividendsOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isLocked\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastDripTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"lock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"myDividends\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"myEstimateDividends\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"myShares\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"ownerByAddress\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_devAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_shares\",\"type\":\"uint256\"}],\"name\":\"removeSharesFor\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_customerAddress\",\"type\":\"address\"}],\"name\":\"sharesOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalDonation\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalPlayer\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalTokenBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "DevLock", "CompilerVersion": "v0.5.17+commit.d19bba13", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://4885d989ee3bc01090b32d90a3d27899b6be0a180164fbf3c31e6af7b7a60872"}