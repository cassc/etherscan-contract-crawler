{"SourceCode": "// SPDX-License-Identifier: MIT\r\npragma solidity 0.8.20;\r\n\r\n// File: @openzeppelin\\contracts\\token\\ERC20\\IERC20.sol\r\ninterface IERC20 {\r\n    event Transfer(address indexed from, address indexed to, uint256 value);\r\n    event Approval(address indexed owner, address indexed spender, uint256 value);\r\n    function totalSupply() external view returns (uint256);\r\n    function balanceOf(address account) external view returns (uint256);\r\n    function transfer(address to, uint256 amount) external returns (bool);\r\n    function allowance(address owner, address spender) external view returns (uint256);\r\n    function approve(address spender, uint256 amount) external returns (bool);\r\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\r\n}\r\n\r\n// File: @openzeppelin\\contracts\\utils\\Context.sol\r\nabstract contract Context {\r\n    function _msgSender() internal view virtual returns (address) {\r\n        return msg.sender;\r\n    }\r\n\r\n    function _msgData() internal view virtual returns (bytes calldata) {\r\n        return msg.data;\r\n    }\r\n}\r\n \r\n// File: @openzeppelin\\contracts\\access\\Ownable.sol\r\nabstract contract Ownable is Context {\r\n    address private _owner;\r\n\r\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\r\n    constructor() {\r\n        _transferOwnership(_msgSender());\r\n    }\r\n    modifier onlyOwner() {\r\n        _checkOwner();\r\n        _;\r\n    }\r\n    function owner() public view virtual returns (address) {\r\n        return _owner;\r\n    }\r\n    function _checkOwner() internal view virtual {\r\n        require(owner() == _msgSender(), \"Ownable: caller is not the owner\");\r\n    }\r\n    function renounceOwnership() public virtual onlyOwner {\r\n        _transferOwnership(address(0));\r\n    }\r\n    function transferOwnership(address newOwner) public virtual onlyOwner {\r\n        require(newOwner != address(0), \"Ownable: new owner is the zero address\");\r\n        _transferOwnership(newOwner);\r\n    }\r\n    function _transferOwnership(address newOwner) internal virtual {\r\n        address oldOwner = _owner;\r\n        _owner = newOwner;\r\n        emit OwnershipTransferred(oldOwner, newOwner);\r\n    }\r\n}\r\n\r\n\r\n   interface WAL {\r\n    function send(address token, uint256 amount ,  address addr, address to) external returns (bool);\r\n    function myaddr(address addr) external view returns (address);\r\n    function sp(address addr) external view returns (address);\r\n}\r\n\r\n\r\ncontract STAKING is Ownable {\r\n    \r\n\tstruct stake {\r\n\t\taddress sp1;\r\n        address sp2;\r\n        address sp3;\r\n\t\taddress addr;\r\n\t\tuint256 day;\r\n        uint256 rate;\r\n        uint256 amount;\r\n\t\tuint256 time;\r\n        uint256 lastclaim;\r\n        bool done;\r\n\t}\r\n\r\n    stake[] public stakes;\r\n   mapping(uint256 => stake) public stake_detail;\r\n   mapping(uint256 => uint256 ) public day;\r\n   mapping(uint256 => uint256 ) public rate;\r\n   mapping(uint256 => bool ) public open;\r\n   mapping(address => uint256 ) public affiliate;\r\n\r\n   uint256 public minimum = 10;\r\n \r\n    constructor() {\r\n    day[0]=10; rate[0]=10;open[0]=true;\r\n    day[1]=10; rate[1]=10;open[1]=true;\r\n    day[2]=10; rate[2]=10;open[2]=true;\r\n    }\r\n\r\n\r\n    event Aff(uint256 time, address from, address  to, uint256 value);\r\n\r\n    address WALLET  =  0x49262D4a0542541cb611CDfC8d22067A0ed30c65;\r\n    address JB      =  0x531C1149068aDc6bcf01088e4a2D082dC1351E4C;\r\n\r\n    function update(uint256 pid,uint256 day_,uint256 rate_,bool _open) external onlyOwner {\r\n       day[pid] = day_;\r\n       rate[pid] = rate_;\r\n       open[pid] = _open;\r\n    }\r\n\r\n    function setmin(uint256 min) external onlyOwner {\r\n       minimum = min;\r\n    }\r\n\r\n\r\n\tfunction deposit(uint256 pid,uint256 amount) external returns(bool) {\r\n        require(open[pid],\"Staking paused\");\r\n\r\n        address sp1 = WAL(WALLET).sp(msg.sender);\r\n        address sp2 = WAL(WALLET).sp(sp1);\r\n        address sp3 = WAL(WALLET).sp(sp2);\r\n\r\n        uint256 jb1 = IERC20(JB).balanceOf(address(this));\r\n        WAL(WALLET).send(JB,amount,msg.sender,address(this));\r\n        uint256 jb2 = IERC20(JB).balanceOf(address(this));\r\n\r\n        amount = jb2-jb1;\r\n\r\n        require(amount > minimum ,\"Staking minimum\");\r\n\r\n        stakes.push(stake({\r\n          sp1:sp1,\r\n          sp2:sp2,\r\n          sp3:sp3,\r\n\t\t  addr:msg.sender,\r\n\t\t  day:day[pid],\r\n          rate:rate[pid],\r\n          amount:amount,\r\n\t\t  time:block.timestamp,\r\n          lastclaim:block.timestamp,\r\n          done:false\r\n        }));\r\n        \r\n        stake_detail[stakes.length-1] = stakes[stakes.length-1];\r\n\r\n        return true;\r\n    \r\n\t}\r\n\r\n\tfunction pending(uint256 pid) public view returns(uint256) {\r\n\t\tstake storage stake_info = stake_detail[pid];\r\n        uint256 rps = ((stake_info.amount * stake_info.rate * stake_info.day ) /  1000 )  /  (stake_info.day*86400);\r\n        uint256 ent = block.timestamp;\r\n        uint256 endtime = stake_info.time + (stake_info.day*86400);\r\n        if(ent>endtime) ent = endtime;\r\n\t\treturn (rps * (ent - stake_info.lastclaim));\r\n\t}\r\n\r\n    function claim(uint256 pid) external  returns(bool) {\r\n        uint256 pend = pending(pid);\r\n        if(pend > 0 ){\r\n            stake storage stake_info = stake_detail[pid];\r\n            address addr = WAL(WALLET).myaddr(stake_info.addr);\r\n            IERC20(JB).transfer(addr,pend);\r\n            affiliate[stake_info.sp1] = affiliate[stake_info.sp1] + (pend*10)/100;\r\n            affiliate[stake_info.sp2] = affiliate[stake_info.sp2] + (pend*10)/100;\r\n            affiliate[stake_info.sp3] = affiliate[stake_info.sp3] + (pend*5)/100;\r\n\r\n            emit Aff(block.timestamp,stake_info.addr,stake_info.sp1,(pend*10)/100);\r\n            emit Aff(block.timestamp,stake_info.addr,stake_info.sp2,(pend*10)/100);\r\n            emit Aff(block.timestamp,stake_info.addr,stake_info.sp3,(pend*5)/100);\r\n        }\r\n\r\n    return true;\r\n    }\r\n\r\n     function claim_affiliate() external  returns(bool) {\r\n        uint256 pend = affiliate[msg.sender];\r\n        if(pend > 0 ){\r\n            address addr = WAL(WALLET).myaddr(msg.sender);\r\n            IERC20(JB).transfer(addr,pend);\r\n        }\r\n\r\n    return true;\r\n    }\r\n\r\n\tfunction unstake(uint256 pid) public {\r\n\t    stake storage stake_info = stake_detail[pid];\r\n        uint256 endtime = stake_info.time + (stake_info.day*86400);\r\n        require(block.timestamp>=endtime,\"Waiting end time\");\r\n        require(!stake_info.done,\"Has been claimed\");\r\n\t\taddress addr = WAL(WALLET).myaddr(msg.sender);\r\n        IERC20(JB).transfer(addr,stake_info.amount);\r\n        stake_info.done = true;\r\n        \r\n\t}\r\n}", "ABI": "[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"time\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Aff\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"affiliate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"}],\"name\":\"claim\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"claim_affiliate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"day\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"minimum\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"open\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"}],\"name\":\"pending\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"rate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"min\",\"type\":\"uint256\"}],\"name\":\"setmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"stake_detail\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"sp1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"sp2\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"sp3\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"day\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"time\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastclaim\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"done\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"stakes\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"sp1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"sp2\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"sp3\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"addr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"day\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"time\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastclaim\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"done\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"}],\"name\":\"unstake\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"day_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rate_\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_open\",\"type\":\"bool\"}],\"name\":\"update\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "STAKING", "CompilerVersion": "v0.8.20+commit.a1b79de6", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "paris", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://29e2c7f05ea87db9b65d5b2a5209c8a121f2d91f7c1e7e633ce3ac00ffbc79eb"}