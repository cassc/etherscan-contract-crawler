{"SourceCode": "// File: contracts\\interfaces\\TokenInterfaceV5.sol\r\n\r\n// SPDX-License-Identifier: MIT\r\npragma solidity 0.8.7;\r\n\r\ninterface TokenInterfaceV5{\r\n    function burn(address, uint256) external;\r\n    function mint(address, uint256) external;\r\n    function transfer(address, uint256) external returns (bool);\r\n    function transferFrom(address, address, uint256) external returns(bool);\r\n    function balanceOf(address) external view returns(uint256);\r\n    function hasRole(bytes32, address) external view returns (bool);\r\n    function approve(address, uint256) external returns (bool);\r\n    function allowance(address, address) external view returns (uint256);\r\n}\r\n\r\n// File: contracts\\GFarmTokenMigration.sol\r\n\r\npragma solidity 0.8.7;\r\n\r\ncontract GFarmTokenMigration{\r\n\r\n\taddress public immutable gov;\r\n\tTokenInterfaceV5 public immutable oldToken;\r\n\tTokenInterfaceV5 public newToken;\r\n\r\n\tconstructor(address _gov, TokenInterfaceV5 _oldToken){\r\n\t\toldToken = _oldToken;\r\n\t\tgov = _gov;\r\n\t}\r\n\r\n\t// Set token after contract deployed\r\n\t// => can give minting role to this contract when deploy new token\r\n\tfunction setNewToken(TokenInterfaceV5 _newToken) external{\r\n\t\trequire(msg.sender == gov, \"NOT_GOV\");\r\n\t\trequire(address(_newToken) != address(0), \"ADDRESS_0\");\r\n\t\trequire(address(newToken) == address(0), \"ALREADY_SET\");\r\n\t\tnewToken = _newToken;\r\n\t}\r\n\r\n\t// Send x amount of GFARM2 tokens and receive 1000x GNS tokens.\r\n\tfunction migrateToNewToken(uint _amount) external{\r\n\t\trequire(oldToken.balanceOf(msg.sender) >= _amount, \"BALANCE_TOO_LOW\");\r\n\t\toldToken.transferFrom(msg.sender, address(this), _amount);\r\n\t\tnewToken.mint(msg.sender, _amount*1000);\r\n\t}\r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_gov\",\"type\":\"address\"},{\"internalType\":\"contract TokenInterfaceV5\",\"name\":\"_oldToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"gov\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"migrateToNewToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"newToken\",\"outputs\":[{\"internalType\":\"contract TokenInterfaceV5\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"oldToken\",\"outputs\":[{\"internalType\":\"contract TokenInterfaceV5\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract TokenInterfaceV5\",\"name\":\"_newToken\",\"type\":\"address\"}],\"name\":\"setNewToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "GFarmTokenMigration", "CompilerVersion": "v0.8.7+commit.e28d00a7", "OptimizationUsed": "1", "Runs": "999", "ConstructorArguments": "000000000000000000000000c66fbe50dd33c9aadd65707f7088d597c86fe00f0000000000000000000000007075cab6bcca06613e2d071bd918d1a0241379e2", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://eed5e1d0bdb0eb74e623adad47e75a90aeaf55d2606541ea6ef24699296a8be1"}