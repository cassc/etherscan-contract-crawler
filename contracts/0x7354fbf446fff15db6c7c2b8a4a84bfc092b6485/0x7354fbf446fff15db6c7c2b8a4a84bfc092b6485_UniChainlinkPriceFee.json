{"SourceCode": "{{\r\n  \"language\": \"Solidity\",\r\n  \"sources\": {\r\n    \"contracts/IPriceFeed.sol\": {\r\n      \"content\": \"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.15;\\n\\n/**\\n * @dev Interface for price feeds used by Comet\\n * Note This is Chainlink's AggregatorV3Interface, but without the `getRoundData` function.\\n */\\ninterface IPriceFeed {\\n  function decimals() external view returns (uint8);\\n\\n  function description() external view returns (string memory);\\n\\n  function version() external view returns (uint256);\\n\\n  function latestRoundData()\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n}\"\r\n    },\r\n    \"contracts/IUniswapV3TwapPriceOracle.sol\": {\r\n      \"content\": \"// SPDX-License-Identifier: BUSL-1.1\\r\\npragma solidity 0.8.15;\\r\\n\\r\\n/**\\r\\n * @dev Interface for interacting with a Timelock\\r\\n */\\r\\ninterface IUniswapV3TwapPriceOracle {\\r\\n    /**\\r\\n     * @notice Get the price of an underlying asset.\\r\\n     * @param underlying The underlying asset to get the price of.\\r\\n     * @return The underlying asset price in ETH as a mantissa (scaled by 1e18).\\r\\n     * Zero means the price is unavailable.\\r\\n     */\\r\\n    function price(address underlying) external view returns (uint);\\r\\n}\\r\\n\"\r\n    },\r\n    \"contracts/pricefeeds/UniChainlinkPriceFeed.sol\": {\r\n      \"content\": \"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.15;\\n\\nimport \\\"../vendor/@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\\\";\\nimport \\\"../IPriceFeed.sol\\\";\\nimport \\\"../IUniswapV3TwapPriceOracle.sol\\\";\\n\\n/**\\n * @title UniChainlink price feed\\n * @notice A custom price feed that calculates the price for Uniswapv3 Twap and Chainlink\\n * @author Compound\\n */\\ncontract UniChainlinkPriceFeed is IPriceFeed {\\n    /** Custom errors **/\\n    error BadDecimals();\\n    error InvalidInt256();\\n\\n    /// @notice Version of the price feed\\n    uint public constant VERSION = 1;\\n\\n    /// @notice Description of the price feed\\n    string public override description;\\n\\n    /// @notice Number of decimals for returned prices\\n    uint8 public immutable override decimals;\\n\\n    /// @notice Uniswap price feed\\n    address public immutable priceFeedUniswap;\\n\\n    /// @notice Uniswap underlying\\n    address public immutable uniswapUnderlying;\\n\\n    /// @notice Chainlink price feed\\n    address public immutable priceFeedChainlink;\\n\\n    /// @notice Combined scale of the two underlying Chainlink price feeds\\n    int public immutable combinedScale;\\n\\n    /// @notice Scale of this price feed\\n    int public immutable priceFeedScale;\\n\\n    /**\\n     * @notice Construct a new multiplicative price feed\\n     * @param priceFeedUniswap_ The address of the first price feed to fetch prices from Uniswap\\n     * @param priceFeedChainlink_ The address of the second price feed to fetch prices from Chainlink\\n     * @param decimals_ The number of decimals for the returned prices\\n     * @param description_ The description of the price feed\\n     **/\\n    constructor(\\n        address priceFeedUniswap_,\\n        address uniswapUnderlying_,\\n        address priceFeedChainlink_,\\n        uint8 decimals_,\\n        string memory description_\\n    ) {\\n        priceFeedUniswap = priceFeedUniswap_;\\n        uniswapUnderlying = uniswapUnderlying_;\\n        priceFeedChainlink = priceFeedChainlink_;\\n        uint8 priceFeedUniswapDecimals = 18;\\n        uint8 priceFeedChainlinkDecimals = AggregatorV3Interface(\\n            priceFeedChainlink_\\n        ).decimals();\\n        combinedScale = signed256(\\n            10 ** (priceFeedUniswapDecimals + priceFeedChainlinkDecimals)\\n        );\\n\\n        if (decimals_ > 18) revert BadDecimals();\\n        decimals = decimals_;\\n        description = description_;\\n        priceFeedScale = int256(10 ** decimals);\\n    }\\n\\n    /**\\n     * @notice Calculates the latest round data using data from the two price feeds\\n     * @return roundId Round id from price feed B\\n     * @return answer Latest price\\n     * @return startedAt Timestamp when the round was started; passed on from price feed B\\n     * @return updatedAt Timestamp when the round was last updated; passed on from price feed B\\n     * @return answeredInRound Round id in which the answer was computed; passed on from price feed B\\n     * @dev Note: Only the `answer` really matters for downstream contracts that use this price feed (e.g. Comet)\\n     **/\\n    function latestRoundData()\\n        external\\n        view\\n        override\\n        returns (uint80, int256, uint256, uint256, uint80)\\n    {\\n        int256 priceUniswap = signed256(\\n            IUniswapV3TwapPriceOracle(priceFeedUniswap).price(uniswapUnderlying)\\n        );\\n        (\\n            uint80 roundId_,\\n            int256 priceChainlink,\\n            uint256 startedAt_,\\n            uint256 updatedAt_,\\n            uint80 answeredInRound_\\n        ) = AggregatorV3Interface(priceFeedChainlink).latestRoundData();\\n\\n        if (priceChainlink <= 0)\\n            return (roundId_, 0, startedAt_, updatedAt_, answeredInRound_);\\n\\n        int256 price = (priceUniswap * priceChainlink * priceFeedScale) /\\n            combinedScale;\\n        return (roundId_, price, startedAt_, updatedAt_, answeredInRound_);\\n    }\\n\\n    function signed256(uint256 n) internal pure returns (int256) {\\n        if (n > uint256(type(int256).max)) revert InvalidInt256();\\n        return int256(n);\\n    }\\n\\n    /**\\n     * @notice Price for the latest round\\n     * @return The version of the price feed contract\\n     **/\\n    function version() external pure returns (uint256) {\\n        return VERSION;\\n    }\\n}\\n\"\r\n    },\r\n    \"contracts/vendor/@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\": {\r\n      \"content\": \"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface AggregatorV3Interface {\\n  function decimals() external view returns (uint8);\\n\\n  function description() external view returns (string memory);\\n\\n  function version() external view returns (uint256);\\n\\n  // getRoundData and latestRoundData should both raise \\\"No data present\\\"\\n  // if they do not have data to report, instead of returning unset values\\n  // which could be misinterpreted as actual reported values.\\n  function getRoundData(uint80 _roundId)\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n\\n  function latestRoundData()\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n}\\n\"\r\n    }\r\n  },\r\n  \"settings\": {\r\n    \"optimizer\": {\r\n      \"enabled\": true,\r\n      \"runs\": 1,\r\n      \"details\": {\r\n        \"yulDetails\": {\r\n          \"optimizerSteps\": \"dhfoDgvulfnTUtnIf [xa[r]scLM cCTUtTOntnfDIul Lcul Vcul [j] Tpeul xa[rul] xa[r]cL gvif CTUca[r]LsTOtfDnca[r]Iulc] jmul[jul] VcTOcul jmul\"\r\n        }\r\n      }\r\n    },\r\n    \"outputSelection\": {\r\n      \"*\": {\r\n        \"*\": [\r\n          \"evm.bytecode\",\r\n          \"evm.deployedBytecode\",\r\n          \"devdoc\",\r\n          \"userdoc\",\r\n          \"metadata\",\r\n          \"abi\"\r\n        ]\r\n      }\r\n    },\r\n    \"viaIR\": true,\r\n    \"libraries\": {}\r\n  }\r\n}}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"priceFeedUniswap_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"uniswapUnderlying_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"priceFeedChainlink_\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"decimals_\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"description_\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"BadDecimals\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidInt256\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"VERSION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"combinedScale\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"latestRoundData\",\"outputs\":[{\"internalType\":\"uint80\",\"name\":\"\",\"type\":\"uint80\"},{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"\",\"type\":\"uint80\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceFeedChainlink\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceFeedScale\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceFeedUniswap\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"uniswapUnderlying\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}]", "ContractName": "UniChainlinkPriceFeed", "CompilerVersion": "v0.8.15+commit.e14f2714", "OptimizationUsed": "1", "Runs": "1", "ConstructorArguments": "000000000000000000000000c230ca97b4e88338b87c06e9f3a252710949a060000000000000000000000000961dd84059505d59f82ce4fb87d3c09bec65301d0000000000000000000000005f4ec3df9cbd43714fe2740f5e3616155c5b8419000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000001254584a502f555344207072696365466565640000000000000000000000000000", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": ""}