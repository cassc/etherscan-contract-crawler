//
//                     ,â–„â–ˆâ–ˆâ–„ ,â–„â–„â–ˆâ–€
//                  â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ŒÂ¬'â–ˆâ–ˆâ–ˆâ–€â–€â–ˆâ–ˆâ–„
//               ,â•‘â–ˆâ–Œ  â•‘â–ˆâ–Œ ,â–ˆâ–ˆâŒ  â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„ 
//              â–ˆâ–ˆâ–€â–€â–ˆâ–ˆâ–„ â•‘â–ˆâ–Œâ–„â–ˆâ–ˆâ–Œâ–„â–ˆâ–ˆâ–ˆâ–€   â–ˆâ–ˆ
//            â–â–ˆâ–Œ  'â–ˆâ–ˆâ–Œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆÂµ
//           â•“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„â•™â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ””    â–ˆâ–ˆ
//            â–ˆâ–ˆ  â””â–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ
//           â•™â–ˆâ–ˆâ–ˆâ–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ, â”€â””â–ˆâ–ˆÂµ
//           â–â–ˆâ–ˆâ•™â•™â–€â–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–ˆâ–ˆâŒ
//            â•™â–ˆâ–ˆâ–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â•™â–ˆâ–ˆâ–Œ
//             'â•™â–ˆâ–ˆâ–€â•™â””â””â”Œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â•™â–ˆâ–ˆ, â–„â–ˆâ–Œ
//              â•‘â–ˆâ–„,â–„â–ˆâ–ˆâ–ˆâ–€'â•‘â–ˆâ–ˆÂ¬`â–ˆâ–ˆ  â•™â–ˆâ–ˆâ–ˆâ–€â–€
//               â•™â–€â–€â–€â–ˆâ–Œ  â•“â–ˆâ–ˆâ–Œ  â–ˆâ–ˆâ–„â–„â–ˆâ–ˆâ–€
//                  â•™â–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€â•™â–€â–€â”€
//   ð™›ð™¤ð™§ ð™–ð™£ ð™šð™­ð™¥ð™šð™§ð™žð™¢ð™šð™£ð™© ð™©ð™¤ ð™™ð™§ð™–ð™¬ â•‘â–ˆâ–Œâ”€
//   ð™– ð™˜ð™¤ð™£ð™˜ð™¡ð™ªð™¨ð™žð™¤ð™£ ð™žð™© ð™¢ð™ªð™¨ð™© ð™›ð™žð™§ð™¨ð™©  jâ–ˆâ–Œ
//   ð™˜ð™¤ð™¢ð™š ð™©ð™¤ ð™–ð™£ ð™šð™£ð™™.        jâ–ˆâ–Œ
//     ___ ___ ___ _ _ ___â–â–ˆâ–Œ_ ___ ___ ___ ___ ___ 
//    |  _| . |   | | | -_|  _| . | -_|   |  _| -_|
//    |___|___|_|_|\_/|___|_| |_  |___|_|_|___|___|
//                            |___| ð˜µð˜° ð˜£ð˜¦ ð˜¤ð˜°ð˜¯ð˜µð˜ªð˜¯ð˜¶ð˜¦ð˜¥...    
//
//           ð˜¢ ð˜¨ð˜¦ð˜¯ð˜¦ð˜³ð˜¢ð˜µð˜ªð˜·ð˜¦ ð˜¢ð˜³ð˜µ ð˜¦ð˜¹ð˜±ð˜¦ð˜³ð˜ªð˜®ð˜¦ð˜¯ð˜µ ð˜§ð˜³ð˜°ð˜® ð˜£ð˜¶ð˜»ð˜»ð˜º
//           SPDX-License-Identifier: MIT
pragma solidity ^0.8.7;

import "erc721a/contracts/ERC721A.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract Convergence is ERC721A, Ownable {
    string public _baseTokenURI;
    uint public price = 0.01 ether;
    address private buzz = 0xFa24220e5Fc440DC548b1dD08d079063Adf93f28;
    address public lastMinted;
    uint public startTime = 1670954400;
    uint public lastMintTime = startTime;

    constructor(string memory baseURI) ERC721A("convergence", "CNVG") {
        _baseTokenURI = baseURI;
    }

    function mint() external payable {
        require(lastMinted != msg.sender, "Address already minted");
        require(msg.value == price, "Invalid price");
        require(lastMintTime + 1 days > block.timestamp, "Minting has closed");
        require(startTime < block.timestamp, "Minting hasn't begun.");

        _mint(msg.sender, 1);

        lastMinted = msg.sender;
        lastMintTime = block.timestamp;
    }

    function endTime() external view returns (uint) {
        return lastMintTime + 1 days;
    }

    function _baseURI() internal view virtual override returns (string memory) {
        return _baseTokenURI;
    }

    function setBaseURI(string memory baseURI) external onlyOwner {
        _baseTokenURI = baseURI;
    }

    function setStartTime(uint newStartTime) external onlyOwner {
        if (lastMintTime == startTime) {
            lastMintTime = newStartTime;
        }

        startTime = newStartTime;
    }

    function withdraw() external onlyOwner {
        (bool s, ) = buzz.call{value: (address(this).balance)}("");
        require(s, "withdraw failed");
    }
}