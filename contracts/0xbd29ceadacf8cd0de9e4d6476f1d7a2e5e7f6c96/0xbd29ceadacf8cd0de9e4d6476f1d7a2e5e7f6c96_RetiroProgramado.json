{"SourceCode": "// SPDX-License-Identifier: MIT\r\npragma solidity 0.8.17;\r\n\r\ncontract RetiroProgramado {\r\n    address public owner;\r\n    uint256 public balance;\r\n    uint256 public lastWithdrawTime;\r\n    uint256 public constant withdrawalInterval = 100 hours; // Intervalo de 100 horas\r\n    uint256 public constant feeRate = 3; // 0.3%\r\n\r\n    constructor() {\r\n        owner = msg.sender;\r\n        lastWithdrawTime = block.timestamp;\r\n    }\r\n\r\n    receive() external payable {\r\n        require(msg.value > 0, \"Debe enviar Ether.\");\r\n        balance += msg.value;\r\n    }\r\n\r\n    function withdraw() external {\r\n        require(msg.sender == owner, \"Solo el propietario puede realizar retiros.\");\r\n        uint256 currentTime = block.timestamp;\r\n        uint256 timeSinceLastWithdraw = currentTime - lastWithdrawTime;\r\n        \r\n        require(timeSinceLastWithdraw >= withdrawalInterval, \"Debe esperar al menos 100 horas para realizar otro retiro.\");\r\n        \r\n        uint256 fee = (balance * feeRate) / 1000; // Calcula el 0.3% del saldo\r\n        uint256 amountToWithdraw = balance - fee;\r\n        \r\n        require(amountToWithdraw > 0, \"No hay fondos disponibles para retirar.\");\r\n        \r\n        lastWithdrawTime = currentTime;\r\n        balance = 0;\r\n        \r\n        payable(owner).transfer(amountToWithdraw); // Env\u00eda el Ether al propietario\r\n    }\r\n}", "ABI": "[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"balance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feeRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lastWithdrawTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawalInterval\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}]", "ContractName": "RetiroProgramado", "CompilerVersion": "v0.8.17+commit.8df45f5f", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://5822421f7eefe4e50949e9176c48cef7ee8b2dd08b7d3c9f6a4b2548901c93ad"}