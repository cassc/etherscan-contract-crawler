//                                   .:::   JB#&@@B. [email protected]                                             
//                                 7G&@@&B:.&@@P5J~ :&@#.            .7!.                             
//                                [email protected]@P7!7!  [email protected]@&&?  :&@B            :[email protected]@J                             
//                                #@@^   :[email protected]@GJ?!.^@@#!!^        ^#@@@B  :!Y5!                      
//                  .^~.          !&@&[email protected]@?^&@@&@&7.G#&@@#^      ^#@&&@&5B&@@@?                      
//                :Y#&#! .         .?PGBPJ~  :^^:.     ....       [email protected]&[email protected]@&#@@@7    .^^.               
//                [email protected]@YPB&#G!               .::^~!!77777!~~^:..    :!: .!~!#@&~ .~JG#@@P               
//           :77. ?&@@#[email protected]@@:        .^7YPB#&@@@@@@@@@@@&B&&P55Y?!:      [email protected]!?G&@@#@@@7 ~7^           
//           [email protected]@G. .^^PB&@&?     ^75B&@@@#[email protected]@@@@@@@@@@@@J :&#5J77J5P5J~.  . !#BG&@#@@Y  [email protected]@5:         
//         ^!~?BP.    JPY7:  [email protected]@@@@@@7 [email protected]@@@@@@@@@@@@J .#@@@&GJ~.:75G57:     :[email protected]@G   ~#@@&7        
//       [email protected]@G   .         ^Y#@@@@@@@@@&. [email protected]@@@@@@@@@@@@J .#@@@@@@@BJ:  ~YG5!.   J#[email protected]@[email protected]@?       
//      [email protected]@B^   G&P      [email protected]@@@@@@@@@@@&: [email protected]@@@@@@@@@@@@5 .#@@@@@@@@@@P~!5PBGGJ:    [email protected]@&Y^  ^?J?^     
//      ^&@#!::[email protected]@G    [email protected]@@@@@@@@@@@@@&: [email protected]@@@@@@@@@@@@P .#@@@@@@@@@@@@@G:Y#!YBY:  ~?!.  ^JG&@@@7    
//   :~: ^5&@@@@&Y.  [email protected]@&@@@@@@@@@@@@@&: [email protected]@@@@@@@@@@@@B .#@@@@@@@@@@@@@P  #B :Y#?    ^P#@@@@[email protected]@J   
//  [email protected]&#PJ??7!~.   [email protected]@G^[email protected]@@@@@@@@@@@@@: [email protected]@@@@@@@@@@@@# .#@@@@@@@@@@@@@P  [email protected]~  ^BG:  ~&@@75#Y ?P?   
//   ^[email protected]@@&&@&5    [email protected]@B. #@@@@@@@@@@@@@@^ [email protected]@@@@@@@@@@@@# .#@@@@@@@@@@@@@P  [email protected]    P#^  ^#@#.    ^~^  
//    :[email protected]@#?!?~   [email protected]@@G .#@@@@@@@@@@@@@@^ [email protected]@@@@@@@@@@@@B .#@@@@@@@@@@@@@5  [email protected]     5&:  :?7^^ !#@@@G^
//?PB#&&@&#G.    [email protected]@@@G .&@@@@@@@@@@@@@&: [email protected]@@@@@@@@@@@@B  #@@@@@@@@@@@@@P  [email protected]@J     GB.   [email protected]@[email protected]@?&@B
//Y#&@@@@BY!.   [email protected]@@@@P :&@@@@@@@@@@@@@#. [email protected]@@@@@@@@@@@@G  #@@@@@@@@@@@@@P  [email protected]@@~    .&5   [email protected]@[email protected]@~Y#Y
//  .^7YG#@&^  .&@@@@@Y :&@@@@@@@@@@@@@#  [email protected]@@@@@@@@@@@@P .#@@@@@@@@@@@@@B  [email protected]@@B.    [email protected]!   ?#@@#Y    
//        :.   [email protected]@@@@@J :&@@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@P .&@@@@@@@@@@@@@#  [email protected]@@@!     BG    .::.     
//             [email protected]@@@@@J :&@@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@P :&@@@@@@@@@@@@@#. [email protected]@@@P     [email protected]:            
//            .&@@@@@@Y .#@@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@P :&@@@@@@@@@@@@@#. [email protected]@@@#.    :@!            
//            :@@@@@@@5 .#@@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@P ^@@@@@@@@@@@@@@#. [email protected]@@@&.    .#7            
//            :@@@@@@@P  [email protected]@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@G ^@@@@@@@@@@@@@@#. [email protected]@@@&.     #?            
//            ^@@@@@@@P  [email protected]@@@@@@@@@@@@#. [email protected]@@@@@@@@@@@@G :&@@@@@@@@@@@@@#. [email protected]@@@&:     B?            
//            ^@@@@@@@P  [email protected]@@@@@@@@@@@@&. [email protected]@@@@@@@@@@@@B .#@@@@@@@@@@@@@#. [email protected]@@@&:     BJ            
//            ^@@@@@@@G  [email protected]@@@@@@@@@@@@#. [email protected]@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@#. [email protected]@@@&:     #J            
//            ^@@@@@@@G  [email protected]@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@B  #@@@@&.    .&?            
//            :@@@@@@@B  [email protected]@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@B  [email protected]@@@&.    .&7            
//            :&@@@@@@B  [email protected]@@&&@@@@@@@@B  [email protected]@@@@@@@@@@@@B  [email protected]@@@@@@@@@@@@B  [email protected]@@@#.    .&7            
//            :&@@@@@@B  [email protected]@JJ5PBBB#&@@#. [email protected]@@@@@@@@@@@@B  [email protected]@@@##&@@&@@@B  [email protected]@@@#.    :@7            
//            :&@@@@@@B  [email protected]@G^.^JJ7!^^7G&[email protected]@@@@@@@@G?^5#  [email protected]#J#J :?B5^[email protected]#@@@@#.    :@!            
//            :&@@@@GBB  [email protected]&Y57:^!J5~  [email protected]@@@@@5^   Y&. [email protected] .^   .^  [email protected]@@@#.    :@!            
//            :&@@@P P#  [email protected]#.!PB7           ^[email protected]@~ :~  Y&. [email protected]::            ^[email protected]@@#.    :@7            
//            :&@@&: P#  [email protected]&:  ..      .!:     ~5G75.  5&. [email protected]?J     :!   [email protected]#.    :@7            
//            :&@@P  P#  [email protected]@~       ~.  :J?      !&P  [email protected]^ [email protected]  JP    .GJ  ~P   !&~    :@7            
//            :&@@5~^5#  [email protected]@7 .:    ^P:   P#Y:    ~&~   5&[email protected]^   BJ    ^@^  P?   [email protected]   :@7            
//            .&@@#5PP#  [email protected]@7  ~7    ~G.  ^@@&7    GP   :@B5~    5G    ^@~  55   ^@@?  :@!            
//            .&@@@#&@&~^[email protected]&:   5!    PJ   [email protected]@@Y.  G5  :5G~     .&?    PB   B?   .&@&[email protected]!            
//             [email protected]@7    ~P    7#.  [email protected]@&[email protected]#[email protected]       GG   ~PG:  [email protected]~   [email protected]?????.            
//                      [email protected]#     ~B    ^&:  #J :~!^^?J&@@Y     ~BG~7YP5!   [email protected]@#?7YB7                   
//                      [email protected]&^   .GY    [email protected]: [email protected]~        [email protected]@@[email protected]@#J7~.   ^PB5GBG?~.                    
//                      ^[email protected]&5?J#@!    PP ^#Y          ~J5PY7~?&@#^..^[email protected]&:                           
//                       [email protected]@#Y?JB&?5G7                   7B&&&&###@@?                            
//                             ~&@&@@@@&!                       ~#@P: [email protected]&^                            
//                              :[email protected]@@&5B&5:                    .&@&[email protected]#~                             
//                                [email protected]@5. 7&&?.               :7G5#&@@@&Y.                              
//                                 [email protected]^^?#@&BPY!..^~~!!?7!P&@[email protected]!.                                
//                                   7B&@@@@?~?JJG&@#GGGP5&[email protected]&P#&G7.                                  
//                                     :!?G&BY7~5&@@P::^[email protected]!:                                     
//                                         :75GBBBB&&&&&#BPY!.                                        
pragma solidity ^0.8.4;

import "@openzeppelin/contracts/token/ERC1155/ERC1155.sol";
import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/security/Pausable.sol";
import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Burnable.sol";
import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Supply.sol";
import "@openzeppelin/contracts/security/ReentrancyGuard.sol";
import "@openzeppelin/contracts/utils/Strings.sol";

contract Contraband is
    ERC1155,
    Ownable,
    Pausable,
    ERC1155Burnable,
    ERC1155Supply,
    ReentrancyGuard 
{
    constructor(
        string memory _name,
        string memory _symbol
    ) ERC1155("") {
        name = _name;
        symbol = _symbol;
    }

    string public name;
    string public symbol;

    mapping (address => bool) public minters;
    string public URIbase;
    string public URIctr;
 

    function minterMint(
        address _to,
        uint256 _id,
        uint256 _amount,
        bytes memory data
    ) external nonReentrant {
        require(minters[msg.sender], "not authorised");
        _mint(_to, _id, _amount, data);
    }

    function uri(uint256 _tokenId) override public view returns(string memory) {
        return string(abi.encodePacked(URIbase,Strings.toString(_tokenId)));
    }

    function contractURI() public view returns (string memory) {
        return URIctr;
    }

    function _beforeTokenTransfer(
        address operator,
        address from,
        address to,
        uint256[] memory ids,
        uint256[] memory amounts,
        bytes memory data
    ) internal override(ERC1155, ERC1155Supply) whenNotPaused {
        super._beforeTokenTransfer(operator, from, to, ids, amounts, data);
    }

    function editMinters(address _minter, bool _flag) external onlyOwner{
        minters[_minter] = _flag;
    }

    function mint(
        address account,
        uint256 id,
        uint256 amount,
        bytes memory data
    ) public onlyOwner {
        _mint(account, id, amount, data);
    }

    function mintBatch(
        address to,
        uint256[] memory ids,
        uint256[] memory amounts,
        bytes memory data
    ) public onlyOwner {
        _mintBatch(to, ids, amounts, data);
    }

    function setURI(string memory _uri) external onlyOwner{
        URIbase=_uri;
    }

    function setCtrURI(string memory _URIctr) public onlyOwner {
        URIctr = _URIctr;
    }

    function pause() public onlyOwner {
        _pause();
    }

    function unpause() public onlyOwner {
        _unpause();
    }
}