{"SourceCode": "{{\r\n  \"language\": \"Solidity\",\r\n  \"sources\": {\r\n    \"contracts/Timelock.sol\": {\r\n      \"content\": \"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.19;\\n\\ncontract Timelock {\\n\\tevent NewAdmin(address indexed newAdmin);\\n\\tevent NewPendingAdmin(address indexed newPendingAdmin);\\n\\tevent NewDelay(uint indexed newDelay);\\n\\tevent CancelTransaction(\\n\\t\\tbytes32 indexed txHash,\\n\\t\\taddress indexed target,\\n\\t\\tuint value,\\n\\t\\tstring signature,\\n\\t\\tbytes data,\\n\\t\\tuint eta\\n\\t);\\n\\tevent ExecuteTransaction(\\n\\t\\tbytes32 indexed txHash,\\n\\t\\taddress indexed target,\\n\\t\\tuint value,\\n\\t\\tstring signature,\\n\\t\\tbytes data,\\n\\t\\tuint eta\\n\\t);\\n\\tevent QueueTransaction(\\n\\t\\tbytes32 indexed txHash,\\n\\t\\taddress indexed target,\\n\\t\\tuint value,\\n\\t\\tstring signature,\\n\\t\\tbytes data,\\n\\t\\tuint eta\\n\\t);\\n\\n\\terror Timelock__DelayMustExceedMininumDelay();\\n\\terror Timelock__DelayMustNotExceedMaximumDelay();\\n\\terror Timelock__TimelockOnly();\\n\\terror Timelock__PendingAdminOnly();\\n\\terror Timelock__AdminOnly();\\n\\terror Timelock__ETAMustSatisfyDelay();\\n\\terror Timelock__TxNoQueued();\\n\\terror Timelock__TxAlreadyQueued();\\n\\terror Timelock__TxStillLocked();\\n\\terror Timelock__TxExpired();\\n\\terror Timelock__TxReverted();\\n\\n\\tstring public constant NAME = \\\"Timelock\\\";\\n\\n\\tuint public constant GRACE_PERIOD = 14 days;\\n\\t//uint public constant MINIMUM_DELAY = 2 days;\\n    uint public constant MINIMUM_DELAY = 5 minutes;\\n\\tuint public constant MAXIMUM_DELAY = 15 days;\\n\\n\\taddress public admin;\\n\\taddress public pendingAdmin;\\n\\tuint public delay;\\n\\n\\tmapping(bytes32 => bool) public queuedTransactions;\\n\\n\\tmodifier isValidDelay(uint256 _delay) virtual {\\n\\t\\tif (_delay < MINIMUM_DELAY) {\\n\\t\\t\\trevert Timelock__DelayMustExceedMininumDelay();\\n\\t\\t}\\n\\t\\tif (_delay > MAXIMUM_DELAY) {\\n\\t\\t\\trevert Timelock__DelayMustNotExceedMaximumDelay();\\n\\t\\t}\\n\\t\\t_;\\n\\t}\\n\\n\\tmodifier adminOnly() {\\n\\t\\tif (msg.sender != admin) {\\n\\t\\t\\trevert Timelock__AdminOnly();\\n\\t\\t}\\n\\t\\t_;\\n\\t}\\n\\n\\tconstructor(uint _delay, address _adminAddress) isValidDelay(_delay) {\\n\\t\\trequire(_adminAddress != address(0));\\n\\t\\tadmin = _adminAddress;\\n\\t\\tdelay = _delay;\\n\\t}\\n\\n\\treceive() external payable {}\\n\\n\\tfunction setDelay(uint _delay) external isValidDelay(_delay) {\\n\\t\\tif (msg.sender != address(this)) {\\n\\t\\t\\trevert Timelock__TimelockOnly();\\n\\t\\t}\\n\\t\\tdelay = _delay;\\n\\n\\t\\temit NewDelay(_delay);\\n\\t}\\n\\n\\tfunction acceptAdmin() external {\\n\\t\\tif (msg.sender != pendingAdmin) {\\n\\t\\t\\trevert Timelock__PendingAdminOnly();\\n\\t\\t}\\n\\t\\tadmin = msg.sender;\\n\\t\\tpendingAdmin = address(0);\\n\\n\\t\\temit NewAdmin(msg.sender);\\n\\t}\\n\\n\\tfunction setPendingAdmin(address _pendingAdmin) external {\\n\\t\\tif (msg.sender != address(this)) {\\n\\t\\t\\trevert Timelock__TimelockOnly();\\n\\t\\t}\\n\\t\\tpendingAdmin = _pendingAdmin;\\n\\n\\t\\temit NewPendingAdmin(_pendingAdmin);\\n\\t}\\n\\n\\tfunction queueTransaction(\\n\\t\\taddress target,\\n\\t\\tuint value,\\n\\t\\tstring memory signature,\\n\\t\\tbytes memory data,\\n\\t\\tuint eta\\n\\t) external adminOnly returns (bytes32) {\\n\\t\\tif (eta < block.timestamp + delay || eta > block.timestamp + delay + GRACE_PERIOD) {\\n\\t\\t\\trevert Timelock__ETAMustSatisfyDelay();\\n\\t\\t}\\n\\n\\t\\tbytes32 txHash = keccak256(abi.encode(target, value, signature, data, eta));\\n\\t\\tif (queuedTransactions[txHash]) {\\n\\t\\t\\trevert Timelock__TxAlreadyQueued();\\n\\t\\t}\\n\\t\\tqueuedTransactions[txHash] = true;\\n\\n\\t\\temit QueueTransaction(txHash, target, value, signature, data, eta);\\n\\t\\treturn txHash;\\n\\t}\\n\\n\\tfunction cancelTransaction(\\n\\t\\taddress target,\\n\\t\\tuint value,\\n\\t\\tstring memory signature,\\n\\t\\tbytes memory data,\\n\\t\\tuint eta\\n\\t) external adminOnly {\\n\\t\\tbytes32 txHash = keccak256(abi.encode(target, value, signature, data, eta));\\n\\t\\tif (!queuedTransactions[txHash]) {\\n\\t\\t\\trevert Timelock__TxNoQueued();\\n\\t\\t}\\n\\t\\tqueuedTransactions[txHash] = false;\\n\\n\\t\\temit CancelTransaction(txHash, target, value, signature, data, eta);\\n\\t}\\n\\n\\tfunction executeTransaction(\\n\\t\\taddress target,\\n\\t\\tuint value,\\n\\t\\tstring memory signature,\\n\\t\\tbytes memory data,\\n\\t\\tuint eta\\n\\t) external payable adminOnly returns (bytes memory) {\\n\\t\\tbytes32 txHash = keccak256(abi.encode(target, value, signature, data, eta));\\n\\t\\tif (!queuedTransactions[txHash]) {\\n\\t\\t\\trevert Timelock__TxNoQueued();\\n\\t\\t}\\n\\t\\tif (block.timestamp < eta) {\\n\\t\\t\\trevert Timelock__TxStillLocked();\\n\\t\\t}\\n\\t\\tif (block.timestamp > eta + GRACE_PERIOD) {\\n\\t\\t\\trevert Timelock__TxExpired();\\n\\t\\t}\\n\\n\\t\\tqueuedTransactions[txHash] = false;\\n\\n\\t\\tbytes memory callData;\\n\\n\\t\\tif (bytes(signature).length == 0) {\\n\\t\\t\\tcallData = data;\\n\\t\\t} else {\\n\\t\\t\\tcallData = abi.encodePacked(bytes4(keccak256(bytes(signature))), data);\\n\\t\\t}\\n\\n\\t\\t// Execute the call\\n\\t\\t(bool success, bytes memory returnData) = target.call{ value: value }(callData);\\n\\t\\tif (!success) {\\n\\t\\t\\trevert Timelock__TxReverted();\\n\\t\\t}\\n\\n\\t\\temit ExecuteTransaction(txHash, target, value, signature, data, eta);\\n\\n\\t\\treturn returnData;\\n\\t}\\n}\"\r\n    }\r\n  },\r\n  \"settings\": {\r\n    \"optimizer\": {\r\n      \"enabled\": true,\r\n      \"runs\": 200\r\n    },\r\n    \"evmVersion\": \"paris\",\r\n    \"outputSelection\": {\r\n      \"*\": {\r\n        \"*\": [\r\n          \"evm.bytecode\",\r\n          \"evm.deployedBytecode\",\r\n          \"devdoc\",\r\n          \"userdoc\",\r\n          \"metadata\",\r\n          \"abi\"\r\n        ]\r\n      }\r\n    },\r\n    \"libraries\": {}\r\n  }\r\n}}", "ABI": "[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_delay\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_adminAddress\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"Timelock__AdminOnly\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__DelayMustExceedMininumDelay\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__DelayMustNotExceedMaximumDelay\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__ETAMustSatisfyDelay\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__PendingAdminOnly\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__TimelockOnly\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__TxAlreadyQueued\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__TxExpired\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__TxNoQueued\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__TxReverted\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Timelock__TxStillLocked\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"txHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"signature\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"eta\",\"type\":\"uint256\"}],\"name\":\"CancelTransaction\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"txHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"signature\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"eta\",\"type\":\"uint256\"}],\"name\":\"ExecuteTransaction\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"NewAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"newDelay\",\"type\":\"uint256\"}],\"name\":\"NewDelay\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newPendingAdmin\",\"type\":\"address\"}],\"name\":\"NewPendingAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"txHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"signature\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"eta\",\"type\":\"uint256\"}],\"name\":\"QueueTransaction\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"GRACE_PERIOD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAXIMUM_DELAY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MINIMUM_DELAY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NAME\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"acceptAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"signature\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"eta\",\"type\":\"uint256\"}],\"name\":\"cancelTransaction\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"delay\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"signature\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"eta\",\"type\":\"uint256\"}],\"name\":\"executeTransaction\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingAdmin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"signature\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"eta\",\"type\":\"uint256\"}],\"name\":\"queueTransaction\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"queuedTransactions\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_delay\",\"type\":\"uint256\"}],\"name\":\"setDelay\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_pendingAdmin\",\"type\":\"address\"}],\"name\":\"setPendingAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}]", "ContractName": "Timelock", "CompilerVersion": "v0.8.20+commit.a1b79de6", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "000000000000000000000000000000000000000000000000000000000000012c000000000000000000000000937b94dc8c81ed42b2ada5855b220f098568b2be", "EVMVersion": "paris", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": ""}