{"SourceCode": "pragma solidity ^0.8.0;\r\n\r\ninterface IERC20 {\r\n    function transferFrom(address from, address to, uint256 value) external returns (bool);\r\n    function transfer(address to, uint256 value) external returns (bool);\r\n}\r\n\r\ninterface IERC721 {\r\n    function safeTransferFrom(address from, address to, uint256 tokenId) external;\r\n}\r\n\r\ncontract LendingPool {\r\n    struct LoanDetails {\r\n        uint256 amount;\r\n        uint256 interestRate;\r\n        uint256 dueDate;\r\n        bool isERC20;\r\n    }\r\n\r\n    mapping(address => mapping(address => uint256)) public erc20Balances;\r\n    mapping(address => mapping(address => uint256[])) public erc721Holdings;\r\n    mapping(address => LoanDetails[]) public userLoans;\r\n\r\n    event ERC20Deposited(address indexed user, address token, uint256 amount);\r\n    event ERC721Deposited(address indexed user, address token, uint256 tokenId);\r\n    event LoanRequested(address indexed user, uint256 amount, address collateral, uint256 collateralId, bool isERC20);\r\n    event LoanRepaid(address indexed user, uint256 loanId);\r\n\r\n    function depositERC20(address token, uint256 amount) external {\r\n        erc20Balances[msg.sender][token] += amount;\r\n        emit ERC20Deposited(msg.sender, token, amount);\r\n    }\r\n\r\n    function depositERC721(address token, uint256 tokenId) external {\r\n        erc721Holdings[msg.sender][token].push(tokenId);\r\n        emit ERC721Deposited(msg.sender, token, tokenId);\r\n    }\r\n\r\n    function withdrawERC20(address token, uint256 amount) external {\r\n        require(erc20Balances[msg.sender][token] >= amount, \"Insufficient balance\");\r\n        erc20Balances[msg.sender][token] -= amount;\r\n    }\r\n\r\n    function withdrawERC721(address token, uint256 tokenId) external {\r\n        require(erc721Holdings[msg.sender][token].length > 0, \"No tokens to withdraw\");\r\n   \r\n    }\r\n\r\n    function requestLoan(uint256 amount, address collateral, uint256 collateralId, bool isERC20) external {\r\n        emit LoanRequested(msg.sender, amount, collateral, collateralId, isERC20);\r\n    }\r\n\r\n    function repayLoan(uint256 loanId) external {\r\n        emit LoanRepaid(msg.sender, loanId);\r\n    }\r\n}\r\n\r\ncontract LoanAgreement {\r\n    struct Loan {\r\n        address borrower;\r\n        uint256 amount;\r\n        uint256 interestRate;\r\n        uint256 startTime;\r\n        uint256 endTime;\r\n        bool isERC20;\r\n        bool isActive;\r\n    }\r\n\r\n    mapping(uint256 => Loan) public loans;\r\n    uint256 public loanCounter;\r\n\r\n    event LoanCreated(uint256 loanId, address borrower, uint256 amount, uint256 interestRate, uint256 endTime, bool isERC20);\r\n    event LoanFulfilled(uint256 loanId);\r\n    event LoanTerminated(uint256 loanId);\r\n\r\n    function createLoan(uint256 amount, uint256 interestRate, uint256 duration, bool isERC20) external {\r\n        uint256 endTime = block.timestamp + duration;\r\n        loans[loanCounter] = Loan(msg.sender, amount, interestRate, block.timestamp, endTime, isERC20, true);\r\n        loanCounter++;\r\n        emit LoanCreated(loanCounter, msg.sender, amount, interestRate, endTime, isERC20);\r\n    }\r\n\r\n    function fulfillLoan(uint256 loanId) external {\r\n        emit LoanFulfilled(loanId);\r\n    }\r\n\r\n    function terminateLoan(uint256 loanId) external {\r\n        emit LoanTerminated(loanId);\r\n    }\r\n}", "ABI": "[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"ERC20Deposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ERC721Deposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"}],\"name\":\"LoanRepaid\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"collateral\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateralId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"isERC20\",\"type\":\"bool\"}],\"name\":\"LoanRequested\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"depositERC20\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"depositERC721\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"erc20Balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"erc721Holdings\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"loanId\",\"type\":\"uint256\"}],\"name\":\"repayLoan\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"collateral\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"collateralId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isERC20\",\"type\":\"bool\"}],\"name\":\"requestLoan\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userLoans\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"interestRate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dueDate\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isERC20\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawERC20\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"withdrawERC721\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "LendingPool", "CompilerVersion": "v0.8.24+commit.e11b9ed9", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://dcfc62ba4379d1c9137e54bbfb998032fea75c82ec0138622e83f2e23232a4a3"}