{"SourceCode": "// SPDX-License-Identifier: None\r\npragma solidity 0.8.0;\r\n\r\ninterface DIA {\r\n    function getValue(string memory key)\r\n        external\r\n        view\r\n        returns (uint128, uint128);\r\n}\r\n\r\ncontract DIATwoAssetAdapter {\r\n    address public diaOracleAddress;\r\n    address public owner;\r\n    string public assetA;\r\n    string public assetB;\r\n\r\n    constructor (\r\n        address _diaOracleAddress,\r\n        string memory _assetA,\r\n        string memory _assetB\r\n    ) {\r\n        diaOracleAddress = _diaOracleAddress;\r\n        assetA = _assetA;\r\n        assetB = _assetB;\r\n        owner = msg.sender;\r\n    }\r\n\r\n    modifier onlyOwner() {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n\r\n    function _changeOwner(address newOwner) external onlyOwner {\r\n        owner = newOwner;\r\n    }\r\n\r\n    function updateDIAOracleAddress(address newDIAOracleAddress) external onlyOwner {\r\n        diaOracleAddress = newDIAOracleAddress;\r\n    }\r\n\r\n    function updateAssetA(string memory newQuery) external onlyOwner {\r\n        assetA = newQuery;\r\n    }\r\n\r\n    function updateAssetB(string memory newQuery) external onlyOwner {\r\n        assetA = newQuery;\r\n    }\r\n\r\n    // retrieves A price in B with 8 decimals and both timestamps of last update\r\n    function getAPriceInB() public view returns (uint256, uint256, uint256) {\r\n        (uint256 priceinusdA, uint256 timestampA) = getPriceInUsd(assetA);\r\n        (uint256 priceinusdB, uint256 timestampB) = getPriceInUsd(assetB);\r\n        return ((priceinusdA * 1e8) / priceinusdB, timestampA, timestampB);\r\n    }\r\n\r\n    // retrieves price in USD with 8 decimals\r\n    function getPriceInUsd(string memory query) public view returns (uint256, uint256) {\r\n        (uint256 priceinusd, uint256 timestamp) = DIA(diaOracleAddress).getValue(query);\r\n        return (priceinusd, timestamp);\r\n    }\r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_diaOracleAddress\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_assetA\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_assetB\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"_changeOwner\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"assetA\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"assetB\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"diaOracleAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAPriceInB\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"query\",\"type\":\"string\"}],\"name\":\"getPriceInUsd\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"newQuery\",\"type\":\"string\"}],\"name\":\"updateAssetA\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"newQuery\",\"type\":\"string\"}],\"name\":\"updateAssetB\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newDIAOracleAddress\",\"type\":\"address\"}],\"name\":\"updateDIAOracleAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "DIATwoAssetAdapter", "CompilerVersion": "v0.8.0+commit.c7dfd78e", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "000000000000000000000000afa00e7eff2ea6d216e432d99807c159d08c2b79000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000084f4554482f55534400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000074554482f55534400000000000000000000000000000000000000000000000000", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://daa5474b86073b9699b85df76fca66b45cd41baa1aaed3a021afd268bb162264"}