{"SourceCode": "{{\r\n  \"language\": \"Solidity\",\r\n  \"sources\": {\r\n    \"contracts/deposit.sol\": {\r\n      \"content\": \"// SPDX-License-Identifier: UNLICENSED\\r\\npragma solidity ^0.8.13;\\r\\n\\r\\ninterface IERC20 {\\r\\n  function transferFrom(address from, address to, uint256 amount) external;\\r\\n  function transfer(address to, uint256 amount) external;\\r\\n  function balanceOf(address user) external view returns (uint256);\\r\\n}\\r\\n\\r\\ncontract SuperJackpotDeposit {\\r\\n  address public owner;\\r\\n\\r\\n  event Deposit(uint256 user, uint256 amount);\\r\\n  event Withdraw(uint256 user, address receiver, uint256 amount);\\r\\n  event WithdrawFeees(address receiver, uint256 amount);\\r\\n  event FeeChanged(uint256 feeOnDeposit, uint256 feeOnWithdraw);\\r\\n\\r\\n  IERC20 public immutable SUPERJACKPOT;\\r\\n  uint256 public constant feeBase = 10000;\\r\\n  uint256 public feeOnDeposit = 0;\\r\\n  uint256 public feeOnWithdraw = 100;\\r\\n  uint256 public userBalances = 0;\\r\\n\\r\\n  constructor(address superjackpot, address newOwner){\\r\\n    SUPERJACKPOT = IERC20(superjackpot);\\r\\n    owner = newOwner;\\r\\n    emit FeeChanged(feeOnDeposit, feeOnWithdraw);\\r\\n  }\\r\\n\\r\\n  modifier onlyOwner(){\\r\\n    require(msg.sender == owner);\\r\\n    _;\\r\\n  }\\r\\n\\r\\n  function transferOwnership(address _new) external onlyOwner {\\r\\n    owner = _new;\\r\\n  }\\r\\n\\r\\n  function deposit(uint256 user, uint256 amount) external {\\r\\n    uint256 balanceBefore = SUPERJACKPOT.balanceOf(address(this));\\r\\n    SUPERJACKPOT.transferFrom(msg.sender, address(this), amount);\\r\\n    // check actual deposit, which can vary from amount due to fee on transfer\\r\\n    uint256 deposited = SUPERJACKPOT.balanceOf(address(this)) - balanceBefore;\\r\\n\\r\\n    // deduct fees, amount added to user balance is received noot minus fees\\r\\n    if (feeOnDeposit > 0) {\\r\\n      uint256 fee = deposited * feeOnDeposit / feeBase;\\r\\n      deposited = deposited - fee;\\r\\n    }\\r\\n\\r\\n    userBalances += deposited;\\r\\n\\r\\n    emit Deposit(user, deposited);\\r\\n  }\\r\\n\\r\\n  function withdraw(uint256 user, address receiver, uint256 amount) external onlyOwner {\\r\\n    // deduct fees, amount to withdraw from user balance is amount minus fees. Received amount will depend on transfer tax.\\r\\n    uint256 withdrawAmount = amount;\\r\\n    if (feeOnWithdraw > 0) {\\r\\n      uint256 fee = amount * feeOnWithdraw / feeBase;\\r\\n      withdrawAmount = withdrawAmount - fee;\\r\\n    }\\r\\n\\r\\n    SUPERJACKPOT.transfer(receiver, withdrawAmount);\\r\\n\\r\\n    userBalances -= withdrawAmount;\\r\\n\\r\\n    emit Withdraw(user, receiver, amount);\\r\\n  }\\r\\n\\r\\n  function recover(address token, address to, uint256 amount) external onlyOwner {\\r\\n    IERC20(token).transfer(to, amount);\\r\\n  }\\r\\n\\r\\n  function changeFees(uint256 _feeOnDeposit, uint256 _feeOnWithdraw) external onlyOwner {\\r\\n    feeOnDeposit = _feeOnDeposit;\\r\\n    feeOnWithdraw = _feeOnWithdraw;\\r\\n    emit FeeChanged(_feeOnDeposit, _feeOnWithdraw);\\r\\n  }\\r\\n\\r\\n  function withdrawFeeAndReflection(address receiver) external onlyOwner {\\r\\n    uint256 feesAndReflection = SUPERJACKPOT.balanceOf(address(this)) - userBalances;\\r\\n    SUPERJACKPOT.transfer(receiver, feesAndReflection);\\r\\n    emit WithdrawFeees(receiver, feesAndReflection);\\r\\n  }\\r\\n}\"\r\n    }\r\n  },\r\n  \"settings\": {\r\n    \"optimizer\": {\r\n      \"enabled\": false,\r\n      \"runs\": 200\r\n    },\r\n    \"outputSelection\": {\r\n      \"*\": {\r\n        \"*\": [\r\n          \"evm.bytecode\",\r\n          \"evm.deployedBytecode\",\r\n          \"devdoc\",\r\n          \"userdoc\",\r\n          \"metadata\",\r\n          \"abi\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"superjackpot\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"user\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Deposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"feeOnDeposit\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"feeOnWithdraw\",\"type\":\"uint256\"}],\"name\":\"FeeChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"user\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"WithdrawFeees\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"SUPERJACKPOT\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_feeOnDeposit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_feeOnWithdraw\",\"type\":\"uint256\"}],\"name\":\"changeFees\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"user\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feeBase\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feeOnDeposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feeOnWithdraw\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"recover\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_new\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"userBalances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"user\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"}],\"name\":\"withdrawFeeAndReflection\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "SuperJackpotDeposit", "CompilerVersion": "v0.8.13+commit.abaa5c0e", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "00000000000000000000000047e771edb9f328d8d460401ee6219561633489730000000000000000000000001b654174c1df970b00fc4e291a9d7572e3c405f5", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": ""}