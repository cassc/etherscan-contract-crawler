{"SourceCode": "//SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.0;\r\n\r\n\r\n/////////////////////////////////////////////////////////////////////////\r\n//     __  ___         __  _             __  ___         __       __   //\r\n//    /  |/  /__ _____/ /_(_)__ ____    /  |/  /__ _____/ /_____ / /_  //\r\n//   / /|_/ / _ `/ __/ __/ / _ `/ _ \\  / /|_/ / _ `/ __/  '_/ -_) __/  //\r\n//  /_/  /_/\\_,_/_/  \\__/_/\\_,_/_//_/ /_/  /_/\\_,_/_/ /_/\\_\\\\__/\\__/   //\r\n//                                                by 0xInuarashi.eth   //\r\n/////////////////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    Martian Market by 0xInuarashi for Message to Martians (Martians)\r\n    A Fully functioning on-chain CMS system that can be tapped into front-ends\r\n    and create a responsive website based on contract-specific databases.\r\n\r\n    ** THIS IS A DECENTRALIZED AND TRUSTLESS WHITELIST MARKETPLACE CREATION SYSTEM **\r\n\r\n    We chose not to use a proxy contract as multiple approvals have to be done\r\n    for this contract. In this case, we chose the most decentralized approach\r\n    which is to create an immutable contract with minimal owner access and \r\n    allow full control of contract owners' functions over their own database, \r\n    which is not editable or tamperable even by the Ownable owner themself.\r\n\r\n    >>>> Governance Model <<<<\r\n\r\n        Ownable Owner \r\n            - Set Super Governor Address\r\n            - Renounce Super Governor Address (1-way)\r\n            - Set Governor Address\r\n            - Set $MES Address \r\n\r\n        Super Governor\r\n            - Enable / Disable Projects\r\n            - Set Project Infos \r\n            - Unstuck Owners (On Super Governor Enabled Projects Only)\r\n\r\n        Governor\r\n            - Set Registry Price\r\n            - Set Registry Treasury Address\r\n            - Withdraw $MES from Contract\r\n\r\n        Contract Owner\r\n            - Register Their Contract with $MES\r\n            - Set Project Info\r\n            - Set Treasury Address\r\n            - Set Contract Controllers\r\n            - Add Items \r\n            - Modify Items\r\n            - Remove Items\r\n\r\n        Contract Controller\r\n            - Add Items \r\n            - Modify Items\r\n            - Remove Items\r\n\r\n    >>>> Interfacing <<<<<\r\n\r\n    To draw a front-end interface:\r\n    \r\n        getAllEnabledContracts() - Enumerate all available contracts for selection\r\n        (for contract-specific front-end interfaces, just pull data from your \r\n        contract only)\r\n    \r\n        getWLVendingItemsAll(address contract_) - Enumerate all vending items\r\n        available for the contract. Supports over 1000 items in 1 call but\r\n        if you get gas errors, use a pagination method instead.\r\n\r\n        Pagination method: \r\n        getWLVendingItemsPaginated(address contract_, uint256 start_, uint256 end_)\r\n        for the start_, generally you can use 0, and for end_, inquire from function\r\n        getWLVendingItemsLength(address contract_)\r\n\r\n    For interaction of users:\r\n\r\n        purchaseWLVendingItem(address contract_, uint256 index_) can be used\r\n        and automatically populated to the correct buttons for each WLVendingItem\r\n        for that, an ethers.js call is invoked for the user to call the function\r\n        which will transfer their ERC20 token and add them to the purchasers list\r\n\r\n    For administration:\r\n\r\n        setTreasuryAddress(address contract_, address treasury_) can only be set\r\n        by the contract owner. For this, they are able to set where the ERC20 tokens\r\n        from the whitelist marketplace sales go to. By default, this is 0x...dead\r\n        effectively burning the tokens\r\n\r\n        addWLVendingItem(address contract_, string calldata title_, \r\n        string calldata imageUri_, string calldata projectUri_,\r\n        string calldata description_, uint32 amountAvailable_, uint32 deadline_,\r\n        uint256 price_) is used to create a new WLVendingItem for your contract\r\n        with the details as the input arguments stated.\r\n\r\n        modifyWLVendingItem(address contract_, uint256 index_, \r\n        WLVendingItem memory WLVendingItem_) lets you modify a WLVendingItem.\r\n        You have to pass in a tuple instead. Only use when necessary. Not\r\n        recommended to use.\r\n\r\n        deleteMostRecentWLVendingItem(address contract_) we use a .pop() for this so\r\n        it can only delete the most recent item. For some mistakes that you made and\r\n        want to erase them.\r\n\r\n        manageController(address contract_, address operator_, bool bool_) is a special\r\n        governance function which allows you to add controllers to the contract\r\n        to do actions on your behalf. \r\n*/\r\n\r\n/*\r\n    Patch Notes: 3.1.2\r\n\r\n    - verify project ownership to purchase tokens (ownershipController) [/]\r\n\r\n*/\r\n\r\nabstract contract Ownable {\r\n    address public owner; \r\n    constructor() { owner = msg.sender; }\r\n    modifier onlyOwner { require(owner == msg.sender, \"Not Owner!\"); _; }\r\n    function transferOwnership(address new_) external onlyOwner { owner = new_; }\r\n}\r\n\r\ninterface IERC20 {\r\n    function owner() external view returns (address);\r\n    function balanceOf(address address_) external view returns (uint256);\r\n    function transfer(address to_, uint256 amount_) external returns (bool);\r\n    function transferFrom(address from_, address to_, uint256 amount_) external;\r\n}\r\n\r\ninterface IOwnable {\r\n    function owner() external view returns (address);\r\n}\r\n\r\ninterface IPriceController {\r\n    function getPriceOfItem(address contract_, uint256 index_) external view\r\n    returns (uint256);\r\n}\r\n\r\ninterface ITokenController {\r\n    function getTokenNameOfItem(address contract_, uint256 index_) external view\r\n    returns (string memory);\r\n    function getTokenImageOfItem(address contract_, uint256 index_) external view\r\n    returns (string memory);\r\n    function getTokenOfItem(address contract_, uint256 index_) external view\r\n    returns (address);\r\n}\r\n\r\n// Patch 3.2 - ownershipController for Token Ownership Access\r\ninterface IOwnershipController {\r\n    function hasOwnershipOfToken(address contract_, address owner_) external view\r\n    returns (bool);\r\n}\r\n\r\n// Patch 3.2+ - mockTokens Future Support\r\ninterface IMockTokens {\r\n    function transferMockTokens(address contract_, address from_, address to_,\r\n    uint256 amount_) external;\r\n}\r\n\r\ncontract MartianMarketWL is Ownable {\r\n\r\n    // Events\r\n    event TreasuryManaged(address indexed contract_, address indexed operator_,\r\n        address treasury_);\r\n    event TokenManaged(address indexed contract_, address indexed operator_,\r\n        address token_);\r\n\r\n    event OperatorManaged(address indexed contract_, address indexed operator_, \r\n        bool bool_);\r\n    event MarketAdminManaged(address indexed contract_, address indexed operator_,\r\n        address admin_, bool bool_);\r\n    event RequiresTokenManaged(address indexed contract_, address indexed operator_,    \r\n        bool bool_);\r\n\r\n    event GovernorUnstuckOwner(address indexed contract_, address indexed operator_,\r\n        address unstuckOwner_);\r\n\r\n    event WLVendingItemAdded(address indexed contract_, address indexed operator_,\r\n        WLVendingItem item_);\r\n    event WLVendingItemModified(address indexed contract_, address indexed operator_, \r\n        WLVendingItem before_, WLVendingItem after_);\r\n    event WLVendingItemRemoved(address indexed contract_, address indexed operator_,\r\n        WLVendingItem item_);\r\n    event WLVendingItemPurchased(address indexed contract_, address indexed purchaser_, \r\n        uint256 index_, WLVendingObject object_);\r\n    event WLVendingItemGifted(address indexed contract_, address indexed gifted_,\r\n        uint256 index_, WLVendingObject object_);\r\n\r\n    event ContractRegistered(address indexed contract_, address registerer_,\r\n        uint256 registrationPrice_);\r\n    event ContractAdministered(address indexed contract_, address registerer_,\r\n        bool bool_);\r\n\r\n    event ProjectInfoPushed(address indexed contract_, address registerer_,\r\n        string projectName_, string tokenImage_);\r\n\r\n    // Governance\r\n    IERC20 public MES = \r\n        IERC20(0x3C2Eb40D25a4b2B5A068a959a40d57D63Dc98B95);\r\n    function O_setMES(address address_) external onlyOwner {\r\n        MES = IERC20(address_);\r\n    } // good\r\n\r\n    ITokenController public TokenController = \r\n        ITokenController(0x3C2Eb40D25a4b2B5A068a959a40d57D63Dc98B95);\r\n    function O_setTokenController(address address_) external onlyOwner {\r\n        TokenController = ITokenController(address_);\r\n    } // good\r\n\r\n    IPriceController public PriceController = \r\n        IPriceController(0x3C2Eb40D25a4b2B5A068a959a40d57D63Dc98B95);\r\n    function O_setPriceController(address address_) external onlyOwner {\r\n        PriceController = IPriceController(address_);\r\n    } // good\r\n\r\n    IOwnershipController public OwnershipController = \r\n        IOwnershipController(0x7B41E6Cb678F8e12134a645fb341F928DA91A17b);\r\n    function O_setOwnershipController(address address_) external onlyOwner {\r\n        OwnershipController = IOwnershipController(address_);\r\n    }\r\n\r\n    // Setting the Governor - good\r\n    address public superGovernorAddress;\r\n    address public governorAddress;\r\n    address public registrationCollector;\r\n    \r\n    constructor() {\r\n        superGovernorAddress = msg.sender;\r\n        governorAddress = msg.sender;\r\n        registrationCollector = address(this);\r\n    } \r\n\r\n    // Ownable Governance Setup - good\r\n    function O_setSuperGovernorAddress(address superGovernor_) external onlyOwner {\r\n        // If superGovernor has been renounced, it is never enabled again.\r\n        require(superGovernorAddress != address(0),\r\n            \"Super Governor Access has been renounced\");\r\n\r\n        superGovernorAddress = superGovernor_;\r\n    } \r\n    modifier onlySuperGovernor {\r\n        require(msg.sender == superGovernorAddress,\r\n            \"You are not the contract super governor!\");\r\n        _;\r\n    } \r\n    function O_setGovernorAddress(address governor_) external onlyOwner {\r\n        governorAddress = governor_;\r\n    }\r\n    modifier onlyGovernor {\r\n        require(msg.sender == governorAddress,\r\n            \"You are not the contract governor!\");\r\n        _;\r\n    }\r\n\r\n    // Project Control (Super Governor) - good\r\n    mapping(address => address) contractToUnstuckOwner;\r\n\r\n    function SG_SetContractToVending(address contract_, bool bool_) external\r\n    onlySuperGovernor {\r\n        require(contractToEnabled[contract_] != bool_,\r\n            \"Contract Already Set as Boolean!\");\r\n\r\n        // Set contract as enabled\r\n        contractToEnabled[contract_] = bool_;\r\n        \r\n        // Enum Tracking on bool_ statement\r\n        bool_ ? _addContractToEnum(contract_) : _removeContractFromEnum(contract_);\r\n        \r\n        emit ContractAdministered(contract_, msg.sender, bool_);\r\n    }\r\n    function SG_SetContractToProjectInfo(address contract_, string calldata \r\n    projectName_, string calldata tokenName_, string calldata tokenImage_) \r\n    external onlySuperGovernor {\r\n        \r\n        contractToProjectInfo[contract_] = ProjectInfo(\r\n            projectName_, \r\n            tokenName_,\r\n            tokenImage_\r\n        );\r\n        \r\n        emit ProjectInfoPushed(contract_, msg.sender, projectName_, tokenImage_);\r\n    }\r\n    function SG_SetStuckOwner(address contract_, address unstuckOwner_) \r\n    external onlySuperGovernor {\r\n\r\n        // Onboarding for ERC20 of non-initialized contracts\r\n        // In case of renounced or unretrievable owners\r\n\r\n        // I the contract was not enabled by the super governor, but \r\n        // through user registration by paying $MES, this function \r\n        // is forever disabled for them.\r\n        require(!contractToMESRegistry[contract_],\r\n            \"Ownership has been proven through registration.\");\r\n\r\n        // For maximum trustlessness, this can only be used if there has never been\r\n        // an item created in their store. Once they create an item, this effectively\r\n        // proves ownership is intact and disables this ability forever.\r\n        require(contractToWLVendingItems[contract_].length == 0,\r\n            \"Ownership has been proven.\");\r\n            \r\n        contractToUnstuckOwner[contract_] = unstuckOwner_;\r\n\r\n        // 2022-04-07 ~0xInuarashi removed this because it stucks on invalid owner()\r\n        // emit GovernorUnstuckOwner(contract_, msg.sender, \r\n            // IERC20(contract_).owner(), unstuckOwner_);\r\n\r\n        // 2022-04-07 ~0xInuarashi added this as no interface event\r\n        emit GovernorUnstuckOwner(contract_, msg.sender, unstuckOwner_);\r\n    }\r\n    \r\n    // Registry Control (Governor) - ok\r\n    uint256 public registrationPrice = 20000 ether; // 20000 $MES\r\n    function G_setRegistrationPrice(uint256 price_) external onlyGovernor {\r\n        registrationPrice = price_;\r\n    }\r\n    function G_setRegistrationCollector(address collector_) external onlyGovernor {\r\n        registrationCollector = collector_;\r\n    }\r\n    function G_withdrawMESfromContract(address receiver_) external onlyGovernor {\r\n        MES.transfer(receiver_, MES.balanceOf(address(this)));\r\n    }\r\n\r\n    // Registry Logic\r\n    // Database Entry for Enabled Addresses + Enumeration System // - good\r\n    mapping(address => bool) public contractToEnabled;\r\n\r\n    // Enumeration Tools \r\n    address[] public enabledContracts;\r\n    mapping(address => uint256) public enabledContractsIndex;\r\n\r\n    function getAllEnabledContracts() external view returns (address[] memory) {\r\n        return enabledContracts;\r\n    }\r\n    function _addContractToEnum(address contract_) internal {\r\n        enabledContractsIndex[contract_] = enabledContracts.length;\r\n        enabledContracts.push(contract_);\r\n    }\r\n    function _removeContractFromEnum(address contract_) internal {\r\n        uint256 _lastIndex = enabledContracts.length - 1;\r\n        uint256 _currentIndex = enabledContractsIndex[contract_];\r\n\r\n        // If the contract is not the last contract in the array\r\n        if (_currentIndex != _lastIndex) {\r\n            // Replace the to-be-deleted address with the last address\r\n            address _lastAddress = enabledContracts[_lastIndex];\r\n            enabledContracts[_currentIndex] = _lastAddress;\r\n        }\r\n\r\n        // Remove the last item\r\n        enabledContracts.pop();\r\n        // Delete the index\r\n        delete enabledContractsIndex[contract_];\r\n    }\r\n\r\n    // Registry (Contract Owner) - good\r\n    mapping(address => bool) public contractToMESRegistry;\r\n\r\n    function registerContractToVending(address contract_) external {\r\n        require(msg.sender == IOwnable(contract_).owner(),\r\n            \"You are not the Contract Owner!\");\r\n        require(!contractToEnabled[contract_],\r\n            \"Your contract has already been registered!\");\r\n        require(MES.balanceOf(msg.sender) >= registrationPrice,\r\n            \"You don't have enough $MES!\");\r\n        \r\n        MES.transferFrom(msg.sender, registrationCollector, registrationPrice);\r\n        \r\n        contractToEnabled[contract_] = true;\r\n        contractToMESRegistry[contract_] = true;\r\n\r\n        _addContractToEnum(contract_);\r\n        \r\n        emit ContractRegistered(contract_, msg.sender, registrationPrice);\r\n    }\r\n\r\n    // Contract Owner Governance Control - ok\r\n    function contractOwner(address contract_) public view returns (address) { \r\n        // If there is a contractToUnstuckOwner, return that. otherwise, return Ownable\r\n        return contractToUnstuckOwner[contract_] != address(0) ?\r\n            contractToUnstuckOwner[contract_] : IOwnable(contract_).owner();\r\n    }\r\n    modifier onlyContractOwnerEnabled (address contract_) {\r\n        require(msg.sender == contractOwner(contract_),\r\n            \"You are not the Contract Owner!\");\r\n        require(contractToEnabled[contract_],\r\n            \"Please register your Contract first!\");\r\n        _;\r\n    }\r\n    modifier onlyAuthorized (address contract_, address operator_) {\r\n        require(contractToControllersApproved[contract_][operator_]\r\n            || msg.sender == contractOwner(contract_),\r\n            \"You are not Authorized for this Contract!\");\r\n        require(contractToEnabled[contract_],\r\n            \"Contract is not enabled!\");\r\n        _;\r\n    }\r\n\r\n    // External Interface Access - ok\r\n    function isContractOwner(address contract_, address sender_) public \r\n    view returns (bool) {\r\n        return contractOwner(contract_) == sender_;    \r\n    }\r\n    function isAuthorized(address contract_, address operator_) public\r\n    view returns (bool) {\r\n        if (contractToControllersApproved[contract_][operator_]) return true;\r\n        else return contractOwner(contract_) == operator_;\r\n    }\r\n\r\n    // Project Control (Contract Owner) - ok\r\n    struct ProjectInfo {\r\n        string projectName;\r\n        string tokenName;\r\n        string tokenImageUri;\r\n    }\r\n    \r\n    mapping(address => ProjectInfo) public contractToProjectInfo;\r\n    \r\n    function registerProjectInfo(address contract_, string calldata projectName_,\r\n    string calldata tokenName_, string calldata tokenImage_) \r\n    external onlyContractOwnerEnabled(contract_) {\r\n    \r\n        contractToProjectInfo[contract_] = ProjectInfo(\r\n            projectName_, \r\n            tokenName_,\r\n            tokenImage_\r\n        );\r\n    \r\n        emit ProjectInfoPushed(contract_, msg.sender, projectName_, tokenImage_);\r\n    }\r\n\r\n    mapping(address => mapping(address => bool)) public contractToControllersApproved;\r\n    \r\n    function manageController(address contract_, address operator_, bool bool_) \r\n    external onlyContractOwnerEnabled(contract_) {\r\n\r\n        contractToControllersApproved[contract_][operator_] = bool_;\r\n        \r\n        emit OperatorManaged(contract_, operator_, bool_);\r\n    }\r\n\r\n    address public burnAddress = 0x000000000000000000000000000000000000dEaD;\r\n    mapping(address => address) public contractToTreasuryAddress;\r\n    \r\n    function getTreasury(address contract_) public view returns (address) {\r\n        // if contractToTreasuryAddress is set, use that, otherwise, burnAddress\r\n        return contractToTreasuryAddress[contract_] != address(0) ? \r\n            contractToTreasuryAddress[contract_] : burnAddress; \r\n    }\r\n    function setTreasuryAddress(address contract_, address treasury_) external \r\n    onlyContractOwnerEnabled(contract_) {\r\n\r\n        contractToTreasuryAddress[contract_] = treasury_;\r\n\r\n        emit TreasuryManaged(contract_, msg.sender, treasury_);\r\n    }\r\n\r\n    // Patch 3.1.2 Token Ownership Control & Access\r\n    mapping(address => bool) public requiresTokenOwnership;\r\n\r\n    function setRequiresTokenOwnership(address contract_, bool bool_) external\r\n    onlyContractOwnerEnabled(contract_) {\r\n\r\n        requiresTokenOwnership[contract_] = bool_;\r\n\r\n        emit RequiresTokenManaged(contract_, msg.sender, bool_);\r\n    }\r\n\r\n\r\n    // Whitelist Marketplace - ok\r\n    struct WLVendingItem {\r\n        string title; // for metadata uri, set title to metadata uri instead\r\n        string imageUri;\r\n        string projectUri;\r\n        string description;\r\n\r\n        uint32 amountAvailable;\r\n        uint32 amountPurchased;\r\n\r\n        uint32 startTime;\r\n        uint32 endTime;\r\n        \r\n        uint256 price;\r\n    }\r\n\r\n    // Database of Vending Items for each ERC20\r\n    mapping(address => WLVendingItem[]) public contractToWLVendingItems;\r\n    \r\n    // Database of Vending Items Purchasers for each ERC20\r\n    mapping(address => mapping(uint256 => address[])) public contractToWLPurchasers;\r\n    mapping(address => mapping(uint256 => mapping(address => bool))) public \r\n        contractToWLPurchased;\r\n\r\n    function addWLVendingItem(address contract_, WLVendingItem memory WLVendingItem_)\r\n    external onlyAuthorized(contract_, msg.sender) {\r\n        require(bytes(WLVendingItem_.title).length > 0,\r\n            \"You must specify a Title!\");\r\n        require(uint256(WLVendingItem_.endTime) > block.timestamp,\r\n            \"Already expired timestamp!\");\r\n        require(WLVendingItem_.endTime > WLVendingItem_.startTime,\r\n            \"endTime > startTime!\");\r\n        \r\n        // Make sure that amountPurchased on adding is always 0\r\n        WLVendingItem_.amountPurchased = 0;\r\n\r\n        // Push the item to the database array\r\n        contractToWLVendingItems[contract_].push(WLVendingItem_);\r\n        \r\n        emit WLVendingItemAdded(contract_, msg.sender, WLVendingItem_);\r\n    }\r\n\r\n    function modifyWLVendingItem(address contract_, uint256 index_,\r\n    WLVendingItem memory WLVendingItem_) external \r\n    onlyAuthorized(contract_, msg.sender) {\r\n        WLVendingItem memory _item = contractToWLVendingItems[contract_][index_];\r\n\r\n        require(bytes(_item.title).length > 0,\r\n            \"This WLVendingItem does not exist!\");\r\n        require(bytes(WLVendingItem_.title).length > 0,\r\n            \"Title must not be empty!\");\r\n        \r\n        require(WLVendingItem_.amountAvailable >= _item.amountPurchased,\r\n            \"Amount Available must be >= Amount Purchased!\");\r\n\r\n        // ~0xInuarashi @ 2022-04-29 - always set new amountPurchased to old\r\n        WLVendingItem_.amountPurchased = _item.amountPurchased;\r\n        \r\n        contractToWLVendingItems[contract_][index_] = WLVendingItem_;\r\n        \r\n        emit WLVendingItemModified(contract_, msg.sender, _item, WLVendingItem_);\r\n    }\r\n\r\n    function deleteMostRecentWLVendingItem(address contract_) external\r\n    onlyAuthorized(contract_, msg.sender) {\r\n        uint256 _lastIndex = contractToWLVendingItems[contract_].length - 1;\r\n\r\n        WLVendingItem memory _item = contractToWLVendingItems[contract_][_lastIndex];\r\n\r\n        require(_item.amountPurchased == 0,\r\n            \"Cannot delete item with already bought goods!\");\r\n        \r\n        contractToWLVendingItems[contract_].pop();\r\n        emit WLVendingItemRemoved(contract_, msg.sender, _item);\r\n    }\r\n\r\n    // Core Function of WL Vending (User) - ok\r\n    // ~0xInuarashi @ 2022-04-08\r\n    // As of Martian Market V2 this uses PriceController and TokenController values.\r\n    // We wrap it all in a WLVendingObject item which aggregates WLVendingItem data\r\n    // ~0xInuarashi @ 2022-04-13 Patch 3.2\r\n    // Added ownershipController function\r\n    function purchaseWLVendingItem(address contract_, uint256 index_) external {\r\n\r\n        // Load OwnershipController permissions\r\n        if (requiresTokenOwnership[contract_]) {\r\n            require(OwnershipController.hasOwnershipOfToken(contract_, msg.sender),\r\n                \"Not allowed to purchase!\");\r\n        }\r\n        \r\n        // Load the WLVendingObject to Memory\r\n        WLVendingObject memory _object = getWLVendingObject(contract_, index_);\r\n\r\n        // Check the necessary requirements to purchase\r\n        require(bytes(_object.title).length > 0,\r\n            \"This WLVendingObject does not exist!\");\r\n        require(_object.amountAvailable > _object.amountPurchased,\r\n            \"No more WL remaining!\");\r\n        require(_object.startTime <= block.timestamp,\r\n            \"Not started yet!\");\r\n        require(_object.endTime >= block.timestamp,\r\n            \"Past deadline!\");\r\n        require(!contractToWLPurchased[contract_][index_][msg.sender], \r\n            \"Already purchased!\");\r\n        require(_object.price != 0,\r\n            \"Item does not have a set price!\");\r\n        require(IERC20(contract_).balanceOf(msg.sender) >= _object.price,\r\n            \"Not enough tokens!\");\r\n\r\n        // Pay for the WL\r\n        IERC20( _object.tokenAddress ) // aggregated thru TokenController\r\n        .transferFrom(msg.sender, getTreasury(contract_), _object.price);\r\n        \r\n        // Add the address into the WL List \r\n        contractToWLPurchased[contract_][index_][msg.sender] = true;\r\n        contractToWLPurchasers[contract_][index_].push(msg.sender);\r\n\r\n        // Increment Amount Purchased\r\n        contractToWLVendingItems[contract_][index_].amountPurchased++;\r\n\r\n        emit WLVendingItemPurchased(contract_, msg.sender, index_, _object);\r\n    }\r\n\r\n    // Governance / Ownable Functions Related to Marketplace - ok\r\n    // ~0xInuarashi 2022-04-11 - this is for something like bidding style \r\n    //  auction, gifting, etc and generally a good thing to include \r\n    //  for future interfaces.\r\n    mapping(address => mapping(address => bool)) public contractToMarketAdminsApproved;\r\n\r\n    function manageMarketAdmin(address contract_, address operator_, bool bool_) \r\n    external onlyContractOwnerEnabled(contract_) {\r\n\r\n        contractToMarketAdminsApproved[contract_][operator_] = bool_;\r\n        \r\n        emit MarketAdminManaged(contract_, msg.sender, operator_, bool_);\r\n    }\r\n\r\n    modifier onlyMarketAdmin (address contract_, address operator_) {\r\n        require(contractToMarketAdminsApproved[contract_][operator_]\r\n            || msg.sender == contractOwner(contract_),\r\n            \"You are not a Market Admin!\");\r\n        require(contractToEnabled[contract_],\r\n            \"Contract is not enabled!\");\r\n        _;\r\n    }\r\n\r\n    function giftPurchaserAsMarketAdmin(address contract_, uint256 index_,\r\n    address giftedAddress_) external onlyMarketAdmin(contract_, msg.sender) {\r\n\r\n        // Load the WLVendingObject to Memory\r\n        WLVendingObject memory _object = getWLVendingObject(contract_, index_);\r\n\r\n        // Check the necessary requirements to gift\r\n        require(bytes(_object.title).length > 0,\r\n            \"This WLVendingObject does not exist!\");\r\n        require(_object.amountAvailable > _object.amountPurchased,\r\n            \"No more WL remaining!\");\r\n        require(!contractToWLPurchased[contract_][index_][giftedAddress_],\r\n            \"Already added!\");\r\n\r\n        // Add the address into the WL List\r\n        contractToWLPurchased[contract_][index_][giftedAddress_] = true;\r\n        contractToWLPurchasers[contract_][index_].push(giftedAddress_);\r\n\r\n        // Increment Amount Purchased\r\n        contractToWLVendingItems[contract_][index_].amountPurchased++;\r\n\r\n        emit WLVendingItemGifted(contract_, giftedAddress_, index_, _object);\r\n    }\r\n\r\n    // External Interface Communication\r\n    function getFixedPriceOfItem(address contract_, uint256 index_) external \r\n    view returns (uint256) {\r\n        return contractToWLVendingItems[contract_][index_].price;\r\n    }\r\n    function getDefaultTokenOfContract(address contract_) external \r\n    pure returns (address) {\r\n        return contract_;\r\n    }\r\n    function getDefaultTokenNameOfContract(address contract_) external\r\n    view returns (string memory) {\r\n        return contractToProjectInfo[contract_].tokenName;\r\n    }\r\n    function getDefaultTokenImageOfContract(address contract_) external \r\n    view returns (string memory) {\r\n        return contractToProjectInfo[contract_].tokenImageUri;\r\n    }\r\n\r\n    // Read Functions\r\n\r\n    struct WLVendingObject {\r\n        string title;\r\n        string imageUri;\r\n        string projectUri;\r\n        string description;\r\n        \r\n        uint32 amountAvailable;\r\n        uint32 amountPurchased;\r\n        uint32 startTime;\r\n        uint32 endTime;\r\n\r\n        string tokenName;\r\n        string tokenImageUri;\r\n        address tokenAddress;\r\n\r\n        uint256 price;\r\n    }\r\n\r\n    function getWLPurchasersOf(address contract_, uint256 index_) public view \r\n    returns (address[] memory) { \r\n        return contractToWLPurchasers[contract_][index_];\r\n    }\r\n\r\n    // Generally, this is the go-to read function for front-end interface to call\r\n    // getWLVendingObjectsPaginated\r\n    function getWLVendingItemsLength(address contract_) public view \r\n    returns (uint256) {\r\n        return contractToWLVendingItems[contract_].length;\r\n    }\r\n\r\n    function raw_getWLVendingItemsAll(address contract_) public view \r\n    returns (WLVendingItem[] memory) {\r\n        return contractToWLVendingItems[contract_];\r\n    }\r\n    function raw_getWLVendingItemsPaginated(address contract_, uint256 start_, \r\n    uint256 end_) public view returns (WLVendingItem[] memory) {\r\n        uint256 _arrayLength = end_ - start_ + 1;\r\n        WLVendingItem[] memory _items = new WLVendingItem[] (_arrayLength);\r\n        uint256 _index;\r\n\r\n        for (uint256 i = 0; i < _arrayLength; i++) {\r\n            _items[_index++] = contractToWLVendingItems[contract_][start_ + i];\r\n        }\r\n\r\n        return _items;\r\n    }\r\n\r\n    // Generally, this is the go-to read function for front-end interfaces.\r\n    function getWLVendingObject(address contract_, uint256 index_) public \r\n    view returns (WLVendingObject memory) {\r\n        WLVendingItem memory _item = contractToWLVendingItems[contract_][index_];\r\n        WLVendingObject memory _object = WLVendingObject(\r\n            _item.title,\r\n            _item.imageUri,\r\n            _item.projectUri,\r\n            _item.description,\r\n\r\n            _item.amountAvailable,\r\n            _item.amountPurchased,\r\n            _item.startTime,\r\n            _item.endTime,\r\n\r\n            TokenController.getTokenNameOfItem(contract_, index_),\r\n            TokenController.getTokenImageOfItem(contract_, index_),\r\n            TokenController.getTokenOfItem(contract_, index_),\r\n\r\n            PriceController.getPriceOfItem(contract_, index_)\r\n        );\r\n        return _object;\r\n    }\r\n\r\n    function getWLVendingObjectsPaginated(address contract_, uint256 start_, \r\n    uint256 end_) public view returns (WLVendingObject[] memory) {\r\n        uint256 _arrayLength = end_ - start_ + 1;\r\n        WLVendingObject[] memory _objects = new WLVendingObject[] (_arrayLength);\r\n        uint256 _index;\r\n\r\n        for (uint256 i = 0; i < _arrayLength; i++) {\r\n\r\n            uint256 _itemIndex = start_ + i;\r\n            \r\n            WLVendingItem memory _item = contractToWLVendingItems[contract_][_itemIndex];\r\n            WLVendingObject memory _object = WLVendingObject(\r\n                _item.title,\r\n                _item.imageUri,\r\n                _item.projectUri,\r\n                _item.description,\r\n\r\n                _item.amountAvailable,\r\n                _item.amountPurchased,\r\n                _item.startTime,\r\n                _item.endTime,\r\n\r\n                TokenController.getTokenNameOfItem(contract_, (_itemIndex)),\r\n                TokenController.getTokenImageOfItem(contract_, (_itemIndex)),\r\n                TokenController.getTokenOfItem(contract_, (_itemIndex)),\r\n\r\n                PriceController.getPriceOfItem(contract_, (_itemIndex))\r\n            );\r\n\r\n            _objects[_index++] = _object;\r\n        }\r\n\r\n        return _objects;\r\n    }\r\n}", "ABI": "[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"registerer_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"bool_\",\"type\":\"bool\"}],\"name\":\"ContractAdministered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"registerer_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"registrationPrice_\",\"type\":\"uint256\"}],\"name\":\"ContractRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"unstuckOwner_\",\"type\":\"address\"}],\"name\":\"GovernorUnstuckOwner\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"admin_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"bool_\",\"type\":\"bool\"}],\"name\":\"MarketAdminManaged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"bool_\",\"type\":\"bool\"}],\"name\":\"OperatorManaged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"registerer_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"projectName_\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"tokenImage_\",\"type\":\"string\"}],\"name\":\"ProjectInfoPushed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"bool_\",\"type\":\"bool\"}],\"name\":\"RequiresTokenManaged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"token_\",\"type\":\"address\"}],\"name\":\"TokenManaged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"treasury_\",\"type\":\"address\"}],\"name\":\"TreasuryManaged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct MartianMarketWL.WLVendingItem\",\"name\":\"item_\",\"type\":\"tuple\"}],\"name\":\"WLVendingItemAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"gifted_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"string\",\"name\":\"tokenName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenImageUri\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct MartianMarketWL.WLVendingObject\",\"name\":\"object_\",\"type\":\"tuple\"}],\"name\":\"WLVendingItemGifted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct MartianMarketWL.WLVendingItem\",\"name\":\"before_\",\"type\":\"tuple\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct MartianMarketWL.WLVendingItem\",\"name\":\"after_\",\"type\":\"tuple\"}],\"name\":\"WLVendingItemModified\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"purchaser_\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"string\",\"name\":\"tokenName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenImageUri\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct MartianMarketWL.WLVendingObject\",\"name\":\"object_\",\"type\":\"tuple\"}],\"name\":\"WLVendingItemPurchased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct MartianMarketWL.WLVendingItem\",\"name\":\"item_\",\"type\":\"tuple\"}],\"name\":\"WLVendingItemRemoved\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"collector_\",\"type\":\"address\"}],\"name\":\"G_setRegistrationCollector\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"price_\",\"type\":\"uint256\"}],\"name\":\"G_setRegistrationPrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"receiver_\",\"type\":\"address\"}],\"name\":\"G_withdrawMESfromContract\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MES\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"governor_\",\"type\":\"address\"}],\"name\":\"O_setGovernorAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"address_\",\"type\":\"address\"}],\"name\":\"O_setMES\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"address_\",\"type\":\"address\"}],\"name\":\"O_setOwnershipController\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"address_\",\"type\":\"address\"}],\"name\":\"O_setPriceController\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"superGovernor_\",\"type\":\"address\"}],\"name\":\"O_setSuperGovernorAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"address_\",\"type\":\"address\"}],\"name\":\"O_setTokenController\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"OwnershipController\",\"outputs\":[{\"internalType\":\"contract IOwnershipController\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"PriceController\",\"outputs\":[{\"internalType\":\"contract IPriceController\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"projectName_\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenName_\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenImage_\",\"type\":\"string\"}],\"name\":\"SG_SetContractToProjectInfo\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"bool_\",\"type\":\"bool\"}],\"name\":\"SG_SetContractToVending\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"unstuckOwner_\",\"type\":\"address\"}],\"name\":\"SG_SetStuckOwner\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"TokenController\",\"outputs\":[{\"internalType\":\"contract ITokenController\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct MartianMarketWL.WLVendingItem\",\"name\":\"WLVendingItem_\",\"type\":\"tuple\"}],\"name\":\"addWLVendingItem\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"burnAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"contractOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"contractToControllersApproved\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"contractToEnabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"contractToMESRegistry\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"contractToMarketAdminsApproved\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"contractToProjectInfo\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"projectName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenImageUri\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"contractToTreasuryAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"contractToWLPurchased\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"contractToWLPurchasers\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"contractToWLVendingItems\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"deleteMostRecentWLVendingItem\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"enabledContracts\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"enabledContractsIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAllEnabledContracts\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"getDefaultTokenImageOfContract\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"getDefaultTokenNameOfContract\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"getDefaultTokenOfContract\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"}],\"name\":\"getFixedPriceOfItem\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"getTreasury\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"}],\"name\":\"getWLPurchasersOf\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"getWLVendingItemsLength\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"}],\"name\":\"getWLVendingObject\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"string\",\"name\":\"tokenName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenImageUri\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct MartianMarketWL.WLVendingObject\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"start_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"end_\",\"type\":\"uint256\"}],\"name\":\"getWLVendingObjectsPaginated\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"string\",\"name\":\"tokenName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenImageUri\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"tokenAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct MartianMarketWL.WLVendingObject[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"giftedAddress_\",\"type\":\"address\"}],\"name\":\"giftPurchaserAsMarketAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governorAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"}],\"name\":\"isAuthorized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"sender_\",\"type\":\"address\"}],\"name\":\"isContractOwner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"bool_\",\"type\":\"bool\"}],\"name\":\"manageController\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator_\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"bool_\",\"type\":\"bool\"}],\"name\":\"manageMarketAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct MartianMarketWL.WLVendingItem\",\"name\":\"WLVendingItem_\",\"type\":\"tuple\"}],\"name\":\"modifyWLVendingItem\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"index_\",\"type\":\"uint256\"}],\"name\":\"purchaseWLVendingItem\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"raw_getWLVendingItemsAll\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct MartianMarketWL.WLVendingItem[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"start_\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"end_\",\"type\":\"uint256\"}],\"name\":\"raw_getWLVendingItemsPaginated\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"title\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imageUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"projectUri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"uint32\",\"name\":\"amountAvailable\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"amountPurchased\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"startTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"endTime\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct MartianMarketWL.WLVendingItem[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"}],\"name\":\"registerContractToVending\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"projectName_\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenName_\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"tokenImage_\",\"type\":\"string\"}],\"name\":\"registerProjectInfo\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"registrationCollector\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"registrationPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"requiresTokenOwnership\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"bool_\",\"type\":\"bool\"}],\"name\":\"setRequiresTokenOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"contract_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"treasury_\",\"type\":\"address\"}],\"name\":\"setTreasuryAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"superGovernorAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"new_\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "MartianMarketWL", "CompilerVersion": "v0.8.7+commit.e28d00a7", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://93923d959dc146222a612d1d31528ab02b0f843c5147d59ed3e2fa4d40ffbc2b"}